'\" p
.\" -*- nroff -*-
.TH "ovs-vswitchd.conf.db" 5 " DB Schema 7.12.1" "Open vSwitch 2.4.0" "Open vSwitch Manual"
.fp 5 L CR              \\" Make fixed-width font available as \\fL.
.de TQ
.  br
.  ns
.  TP "\\$1"
..
.de ST
.  PP
.  RS -0.15in
.  I "\\$1"
.  RE
..
.SH NAME
ovs-vswitchd\fR.conf\fR.db \- Open_vSwitch database schema
.PP
A database with this schema holds the configuration for one Open
vSwitch daemon\fR.  The top-level configuration for the daemon is the
\fBOpen_vSwitch\fR table, which must have exactly one
record\fR.  Records in other tables are significant only when they
can be reached directly or indirectly from the \fBOpen_vSwitch\fR table\fR.  Records that are not reachable from
the \fBOpen_vSwitch\fR table are automatically deleted
from the database, except for records in a few distinguished
``root set\(cq\(cq tables\fR.
.SS "Common Columns"
.PP
Most tables contain two special columns, named \fBother_config\fR
and \fBexternal_ids\fR\fR.  These columns have the same form and
purpose each place that they appear, so we describe them here to save space
later\fR.
.RS
.TP
\fBother_config\fR: map of string-string pairs
Key-value pairs for configuring rarely used features\fR.  Supported keys,
along with the forms taken by their values, are documented individually
for each table\fR.
.IP
A few tables do not have \fBother_config\fR columns because no
key-value pairs have yet been defined for them\fR.
.TP
\fBexternal_ids\fR: map of string-string pairs
Key-value pairs for use by external frameworks that integrate with Open
vSwitch, rather than by Open vSwitch itself\fR.  System integrators should
either use the Open vSwitch development mailing list to coordinate on
common key-value definitions, or choose key names that are likely to be
unique\fR.  In some cases, where key-value pairs have been defined that are
likely to be widely useful, they are documented individually for each
table\fR.
.RE
.SH "TABLE SUMMARY"
.PP
The following list summarizes the purpose of each of the tables in the
\fBOpen_vSwitch\fR database.  Each table is described in more detail on a later
page.
.IP "Table" 1in
Purpose
.TQ 1in
\fBOpen_vSwitch\fR
Open vSwitch configuration\fR.
.TQ 1in
\fBBridge\fR
Bridge configuration\fR.
.TQ 1in
\fBPort\fR
Port configuration\fR.
.TQ 1in
\fBInterface\fR
One physical network device in a Port\fR.
.TQ 1in
\fBFlow_Table\fR
OpenFlow table configuration
.TQ 1in
\fBQoS\fR
Quality of Service configuration
.TQ 1in
\fBQueue\fR
QoS output queue\fR.
.TQ 1in
\fBMirror\fR
Port mirroring\fR.
.TQ 1in
\fBController\fR
OpenFlow controller configuration\fR.
.TQ 1in
\fBManager\fR
OVSDB management connection\fR.
.TQ 1in
\fBNetFlow\fR
NetFlow configuration\fR.
.TQ 1in
\fBSSL\fR
SSL configuration\fR.
.TQ 1in
\fBsFlow\fR
sFlow configuration\fR.
.TQ 1in
\fBIPFIX\fR
IPFIX configuration\fR.
.TQ 1in
\fBFlow_Sample_Collector_Set\fR
Flow_Sample_Collector_Set configuration\fR.
.TQ 1in
\fBAutoAttach\fR
AutoAttach configuration\fR.
.\" check if in troff mode (TTY)
.if t \{
.bp
.SH "TABLE RELATIONSHIPS"
.PP
The following diagram shows the relationship among tables in the
database.  Each node represents a table.  Tables that are part of the
``root set'' are shown with double borders.  Each edge leads from the
table that contains it and points to the table that its value
represents.  Edges are labeled with their column names, followed by a
constraint on the number of allowed values: \fB?\fR for zero or one,
\fB*\fR for zero or more, \fB+\fR for one or more.  Thick lines
represent strong references; thin lines represent weak references.
.RS -1in
.ps -3
.PS
linethick = 1;
linethick = 1;
box at 2.016634862,1.350245138 wid 0.315645 height 0.21043 "Bridge"
linethick = 1;
box at 3.267514954,0.736505 wid 0.315645 height 0.21043 "Mirror"
linethick = 1;
box at 3.267514954,1.981535138 wid 0.315645 height 0.21043 "IPFIX"
linethick = 1;
box at 3.267514954,0.105215 wid 0.42086 height 0.21043 "Controller"
linethick = 1;
box at 3.267514954,2.297180138 wid 0.467617546 height 0.21043 "AutoAttach"
linethick = 1;
box at 3.267514954,1.665890138 wid 0.3740982454 height 0.21043 "NetFlow"
linethick = 1;
box at 3.267514954,1.350245138 wid 0.315645 height 0.21043 "sFlow"
linethick = 1;
box at 3.267514954,0.42086 wid 0.479317454 height 0.21043 "Flow_Table"
linethick = 1;
box at 4.40135388,0.765712684 wid 0.315645 height 0.21043 "Port"
linethick = 0.5;
box at 5.32514158,0.970334816 wid 0.315645 height 0.21043 "QoS"
box at 5.32514158,0.970334816 wid 0.260089444444444 height 0.154874444444444
linethick = 0.5;
box at 6.34193934,0.970334816 wid 0.315645 height 0.21043 "Queue"
box at 6.34193934,0.970334816 wid 0.260089444444444 height 0.154874444444444
linethick = 0.5;
box at 0.508525138,1.981535138 wid 1.011242408 height 0.21043 "Flow_Sample_Collector_Set"
box at 0.508525138,1.981535138 wid 0.955686852444444 height 0.154874444444444
linethick = 0.5;
box at 0.508525138,1.034600138 wid 0.566982592 height 0.21043 "Open_vSwitch"
box at 0.508525138,1.034600138 wid 0.511427036444444 height 0.154874444444444
linethick = 1;
box at 2.016634862,0.718955138 wid 0.315645 height 0.21043 "SSL"
linethick = 1;
box at 2.016634862,1.034600138 wid 0.3799439908 height 0.21043 "Manager"
linethick = 1;
box at 5.32514158,0.654689816 wid 0.3799439908 height 0.21043 "Interface"
linethick = 1;
spline -> from 2.165787646,1.244104246 to 2.165787646,1.244104246 to 2.18194867,1.228027394 to 2.197057544,1.210687962 to 2.209515,1.192422638 to 2.291456442,1.072309194 to 2.203328358,0.976100598 to 2.31473,0.882627592 to 2.539595498,0.693871882 to 2.904523204,0.695934096 to 3.109482024,0.715419914
"mirrors*" at 2.618675092,0.926481204
linethick = 1;
spline -> from 2.080353066,1.455670568 to 2.080353066,1.455670568 to 2.131277126,1.538369558 to 2.213050224,1.649644942 to 2.31473,1.712647684 to 2.549906568,1.858433588 to 2.658109674,1.765970646 to 2.922620184,1.847112454 to 2.984402432,1.866051154 to 3.050729968,1.891218582 to 3.10826153,1.91470257
"ipfix?" at 2.618675092,1.890966066
linethick = 1;
spline -> from 2.171385084,1.244525106 to 2.171385084,1.244525106 to 2.186199356,1.228574512 to 2.199456446,1.211150908 to 2.209515,1.192422638 to 2.305386908,1.01385174 to 2.176772092,0.434916724 to 2.31473,0.2864204816 to 2.502138958,0.0847022836 to 2.839710764,0.0674049376 to 3.057042868,0.08080512
"controller*" at 2.618675092,0.3302572592
linethick = 1;
spline -> from 2.050177404,1.457690696 to 2.050177404,1.457690696 to 2.088854438,1.587441834 to 2.170964224,1.804479336 to 2.31473,1.934777592 to 2.517542434,2.11860924 to 2.82333931,2.212839794 to 3.032212128,2.258461018
"auto_attach?" at 2.618675092,2.270876388
linethick = 1;
spline -> from 2.175677856,1.41345831 to 2.175677856,1.41345831 to 2.220078586,1.430376882 to 2.268940432,1.4477584 to 2.31473,1.461310092 to 2.576799522,1.538958762 to 2.887688804,1.600446408 to 3.07985348,1.6350411
"netflow?" at 2.618675092,1.645436342
linethick = 1;
spline -> from 2.17689835,1.350245138 to 2.17689835,1.350245138 to 2.415652228,1.350245138 to 2.871611952,1.350245138 to 3.109187422,1.350245138
"sflow?" at 2.618675092,1.39409875
linethick = 1;
spline -> from 2.170290848,1.243893816 to 2.170290848,1.243893816 to 2.18531555,1.22806948 to 2.198909328,1.210856306 to 2.209515,1.192422638 to 2.34376934,0.959224112 to 2.125258828,0.787302802 to 2.31473,0.596232362 to 2.498982508,0.4104184634 to 2.811849832,0.3862526822 to 3.027203894,0.3955368538
"flow_tables value*" at 2.618675092,0.640043888
linethick = 1;
spline -> from 2.175341168,1.311063072 to 2.175341168,1.311063072 to 2.372051132,1.261064904 to 2.724563468,1.172894734 to 3.027835184,1.1047575 to 3.519483836,0.994323836 to 3.657820518,1.028118894 to 4.138442638,0.876777638 to 4.172784814,0.865961536 to 4.2086,0.852157328 to 4.24268966,0.83793226
"ports*" at 3.267514954,1.148611112
linethick = 0.5;
spline -> from 3.425716228,0.69483986 to 3.425716228,0.69483986 to 3.48366865,0.680993566 to 3.550627476,0.667357702 to 3.612367638,0.660497684 to 3.84476653,0.634783138 to 3.909031852,0.615423578 to 4.138442638,0.660497684 to 4.173500276,0.667399788 to 4.20986258,0.679099696 to 4.24353138,0.692272614
"select_src_port*" at 3.875405138,0.704351296
linethick = 0.5;
spline -> from 3.424916594,0.63107957 to 3.424916594,0.63107957 to 3.495410644,0.584406196 to 3.572428024,0.537480306 to 3.612367638,0.526075 to 3.837233136,0.461978022 to 3.920900104,0.44042999 to 4.138442638,0.526075 to 4.20775828,0.553346728 to 4.26920384,0.609068592 to 4.31507758,0.65990848
"output_port?" at 3.875405138,0.569928612
linethick = 0.5;
spline -> from 3.426936722,0.74218661 to 3.426936722,0.74218661 to 3.485015402,0.744248824 to 3.551763798,0.746479382 to 3.612367638,0.748204908 to 3.83129901,0.754433636 to 4.08465673,0.759736472 to 4.24268966,0.762850836
"select_dst_port*" at 3.875405138,0.809566296
linethick = 1;
spline -> from 4.5600181,0.799970688 to 4.5600181,0.799970688 to 4.7283621,0.83772183 to 4.9977125,0.898157326 to 5.1660565,0.935950554
"qos?" at 4.84578204,0.949838934
linethick = 1;
spline -> from 4.56170154,0.726867306 to 4.56170154,0.726867306 to 4.59537034,0.71946017 to 4.63114344,0.712389722 to 4.66439138,0.707297316 to 4.82221388,0.683139952 to 5.00318368,0.669672432 to 5.13491286,0.66243364
"interfaces+" at 4.84578204,0.751108842
linethick = 1;
spline -> from 5.48338494,0.970334816 to 5.48338494,0.970334816 to 5.6731928,0.970334816 to 5.99430898,0.970334816 to 6.18369598,0.970334816
"queues value*" at 5.85121658,1.014146342
linethick = 1;
spline -> from 0.764828878,1.875899278 to 0.764828878,1.875899278 to 1.076854482,1.74425427 to 1.600193892,1.523471114 to 1.857928556,1.414762976
"bridge" at 1.4204025,1.76235125
linethick = 1;
spline -> from 0.923408926,2.08704474 to 0.923408926,2.08704474 to 1.407692528,2.194700728 to 2.235271632,2.324157264 to 2.922620184,2.1569075 to 2.987011764,2.141251508 to 3.052834268,2.111075846 to 3.109145336,2.08010055
"ipfix?" at 2.016634862,2.276726342
linethick = 1;
spline -> from 0.792353122,1.093225936 to 0.792353122,1.093225936 to 1.106735542,1.159553472 to 1.60747477,1.265189332 to 1.857802298,1.318007262
"bridges*" at 1.4204025,1.329791342
linethick = 1;
spline -> from 0.792353122,0.97597434 to 0.792353122,0.97597434 to 1.106735542,0.909646804 to 1.60747477,0.80405303 to 1.857802298,0.7512351
"ssl?" at 1.4204025,0.949838934
linethick = 1;
spline -> from 0.792353122,1.034600138 to 0.792353122,1.034600138 to 1.094067656,1.034600138 to 1.567408898,1.034600138 to 1.826364056,1.034600138
"manager_options*" at 1.4204025,1.07845375
.ps +3
.PE
.RE\}
.bp
.SH "Open_vSwitch TABLE"
Configuration for an Open vSwitch daemon\fR.  There must be exactly
one record in the \fBOpen_vSwitch\fR table\fR.
.SS "Summary:
.TQ .25in
\fIConfiguration:\fR
.RS .25in
.TQ 2.75in
\fBbridges\fR
set of \fBBridge\fRs
.TQ 2.75in
\fBssl\fR
optional \fBSSL\fR
.TQ 2.75in
\fBexternal_ids : system-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-system-uuid\fR
optional string
.TQ 2.75in
\fBother_config : stats-update-interval\fR
optional string, containing an integer, at least 5,000
.TQ 2.75in
\fBother_config : flow-restore-wait\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : flow-limit\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBother_config : n-dpdk-rxqs\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : pmd-cpu-mask\fR
optional string
.TQ 2.75in
\fBother_config : n-handler-threads\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : n-revalidator-threads\fR
optional string, containing an integer, at least 1
.RE
.TQ .25in
\fIStatus:\fR
.RS .25in
.TQ 2.75in
\fBnext_cfg\fR
integer
.TQ 2.75in
\fBcur_cfg\fR
integer
.TQ .25in
\fIStatistics:\fR
.RS .25in
.TQ 2.50in
\fBother_config : enable-statistics\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBstatistics : cpu\fR
optional string, containing an integer, at least 1
.TQ 2.50in
\fBstatistics : load_average\fR
optional string
.TQ 2.50in
\fBstatistics : memory\fR
optional string
.TQ 2.50in
\fBstatistics : process_NAME\fR
optional string
.TQ 2.50in
\fBstatistics : file_systems\fR
optional string
.RE
.RE
.TQ .25in
\fIVersion Reporting:\fR
.RS .25in
.TQ 2.75in
\fBovs_version\fR
optional string
.TQ 2.75in
\fBdb_version\fR
optional string
.TQ 2.75in
\fBsystem_type\fR
optional string
.TQ 2.75in
\fBsystem_version\fR
optional string
.RE
.TQ .25in
\fICapabilities:\fR
.RS .25in
.TQ 2.75in
\fBdatapath_types\fR
set of strings
.TQ 2.75in
\fBiface_types\fR
set of strings
.RE
.TQ .25in
\fIDatabase Configuration:\fR
.RS .25in
.TQ 2.75in
\fBmanager_options\fR
set of \fBManager\fRs
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Configuration:"
.IP "\fBbridges\fR: set of \fBBridge\fRs"
Set of bridges managed by the daemon\fR.
.IP "\fBssl\fR: optional \fBSSL\fR"
SSL used globally by the daemon\fR.
.IP "\fBexternal_ids : system-id\fR: optional string"
A unique identifier for the Open vSwitch\(cqs physical host\fR.
The form of the identifier depends on the type of the host\fR.
On a Citrix XenServer, this will likely be the same as
\fBexternal_ids:xs-system-uuid\fR\fR.
.IP "\fBexternal_ids : xs-system-uuid\fR: optional string"
The Citrix XenServer universally unique identifier for the physical
host as displayed by \fBxe host\-list\fR\fR.
.IP "\fBother_config : stats-update-interval\fR: optional string, containing an integer, at least 5,000"
Interval for updating statistics to the database, in milliseconds\fR.
This option will affect the update of the \fBstatistics\fR
column in the following tables: \fBPort\fR, \fBInterface
\fR, \fBMirror\fR\fR.
.IP
Default value is 5000 ms\fR.
.IP
Getting statistics more frequently can be achieved via OpenFlow\fR.
.IP "\fBother_config : flow-restore-wait\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When \fBovs\-vswitchd\fR starts up, it has an empty flow table
and therefore it handles all arriving packets in its default fashion
according to its configuration, by dropping them or sending them to
an OpenFlow controller or switching them as a standalone switch\fR.
This behavior is ordinarily desirable\fR.  However, if
\fBovs\-vswitchd\fR is restarting as part of a ``hot-upgrade,\(cq\(cq
then this leads to a relatively long period during which packets are
mishandled\fR.
.IP
This option allows for improvement\fR.  When \fBovs\-vswitchd\fR
starts with this value set as \fBtrue\fR, it will neither
flush or expire previously set datapath flows nor will it send and
receive any packets to or from the datapath\fR.  When this value is
later set to \fBfalse\fR, \fBovs\-vswitchd\fR will
start receiving packets from the datapath and re-setup the flows\fR.
.IP
Thus, with this option, the procedure for a hot-upgrade of
\fBovs\-vswitchd\fR becomes roughly the following:
.RS
.IP 1. .25in
Stop \fBovs\-vswitchd\fR\fR.
.IP 2. .25in
Set \fBother_config:flow-restore-wait\fR
to \fBtrue\fR\fR.
.IP 3. .25in
Start \fBovs\-vswitchd\fR\fR.
.IP 4. .25in
Use \fBovs\-ofctl\fR (or some other program, such as an
OpenFlow controller) to restore the OpenFlow flow table
to the desired state\fR.
.IP 5. .25in
Set \fBother_config:flow-restore-wait\fR
to \fBfalse\fR (or remove it entirely from the database)\fR.
.RE
.IP
The \fBovs\-ctl\fR\(cqs ``restart\(cq\(cq and ``force-reload-kmod\(cq\(cq
functions use the above config option during hot upgrades\fR.
.IP "\fBother_config : flow-limit\fR: optional string, containing an integer, at least 0"
The maximum
number of flows allowed in the datapath flow table\fR.  Internally OVS
will choose a flow limit which will likely be lower than this number,
based on real time network conditions\fR.
.IP
The default is 200000\fR.
.IP "\fBother_config : n-dpdk-rxqs\fR: optional string, containing an integer, at least 1"
Specifies the maximum number of rx queues to be created for each dpdk
interface\fR.  If not specified or specified to 0, one rx queue will
be created for each dpdk interface by default\fR.
.IP "\fBother_config : pmd-cpu-mask\fR: optional string"
Specifies CPU mask for setting the cpu affinity of PMD (Poll
Mode Driver) threads\fR.  Value should be in the form of hex string,
similar to the dpdk EAL \(cq-c COREMASK\(cq option input or the \(cqtaskset\(cq
mask input\fR.
.IP
The lowest order bit corresponds to the first CPU core\fR.  A set bit
means the corresponding core is available and a pmd thread will be
created and pinned to it\fR.  If the input does not cover all cores,
those uncovered cores are considered not set\fR.
.IP
If not specified, one pmd thread will be created for each numa node
and pinned to any available core on the numa node by default\fR.
.IP "\fBother_config : n-handler-threads\fR: optional string, containing an integer, at least 1"
Specifies the number of threads for software datapaths to use for
handling new flows\fR.  The default the number of online CPU cores minus
the number of revalidators\fR.
.IP
This configuration is per datapath\fR.  If you have more than one
software datapath (e\fR.g\fR. some \fBsystem\fR bridges and some
\fBnetdev\fR bridges), then the total number of threads is
\fBn\-handler\-threads\fR times the number of software
datapaths\fR.
.IP "\fBother_config : n-revalidator-threads\fR: optional string, containing an integer, at least 1"
Specifies the number of threads for software datapaths to use for
revalidating flows in the datapath\fR.  Typically, there is a direct
correlation between the number of revalidator threads, and the number
of flows allowed in the datapath\fR.  The default is the number of cpu
cores divided by four plus one\fR.  If \fBn\-handler\-threads\fR is
set, the default changes to the number of cpu cores minus the number
of handler threads\fR.
.IP
This configuration is per datapath\fR.  If you have more than one
software datapath (e\fR.g\fR. some \fBsystem\fR bridges and some
\fBnetdev\fR bridges), then the total number of threads is
\fBn\-handler\-threads\fR times the number of software
datapaths\fR.
.ST "Status:"
.IP "\fBnext_cfg\fR: integer"
Sequence number for client to increment\fR.  When a client modifies
any part of the database configuration and wishes to wait for
Open vSwitch to finish applying the changes, it may increment
this sequence number\fR.
.IP "\fBcur_cfg\fR: integer"
Sequence number that Open vSwitch sets to the current value of
\fBnext_cfg\fR after it finishes applying a set of
configuration changes\fR.
.ST "Statistics:"
The \fBstatistics\fR column contains key-value pairs that
report statistics about a system running an Open vSwitch\fR.  These are
updated periodically (currently, every 5 seconds)\fR.  Key-value pairs
that cannot be determined or that do not apply to a platform are
omitted\fR.
.IP "\fBother_config : enable-statistics\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Statistics are disabled by default to avoid overhead in the common
case when statistics gathering is not useful\fR.  Set this value to
\fBtrue\fR to enable populating the \fBstatistics\fR
column or to \fBfalse\fR to explicitly disable it\fR.
.IP "\fBstatistics : cpu\fR: optional string, containing an integer, at least 1"
Number of CPU processors, threads, or cores currently online and
available to the operating system on which Open vSwitch is running,
as an integer\fR.  This may be less than the number installed, if some
are not online or if they are not available to the operating
system\fR.
.IP
Open vSwitch userspace processes are not multithreaded, but the
Linux kernel-based datapath is\fR.
.IP "\fBstatistics : load_average\fR: optional string"
A comma-separated list of three floating-point numbers,
representing the system load average over the last 1, 5, and 15
minutes, respectively\fR.
.IP "\fBstatistics : memory\fR: optional string"
A comma-separated list of integers, each of which represents a
quantity of memory in kilobytes that describes the operating
system on which Open vSwitch is running\fR.  In respective order,
these values are:
.RS
.IP 1. .25in
Total amount of RAM allocated to the OS\fR.
.IP 2. .25in
RAM allocated to the OS that is in use\fR.
.IP 3. .25in
RAM that can be flushed out to disk or otherwise discarded
if that space is needed for another purpose\fR.  This number is
necessarily less than or equal to the previous value\fR.
.IP 4. .25in
Total disk space allocated for swap\fR.
.IP 5. .25in
Swap space currently in use\fR.
.RE
.IP
On Linux, all five values can be determined and are included\fR.  On
other operating systems, only the first two values can be
determined, so the list will only have two values\fR.
.IP "\fBstatistics : process_NAME\fR: optional string"
One such key-value pair, with \fBNAME\fR replaced by
a process name, will exist for each running Open vSwitch
daemon process, with \fIname\fR replaced by the
daemon\(cqs name (e\fR.g\fR. \fBprocess_ovs\-vswitchd\fR)\fR.  The
value is a comma-separated list of integers\fR.  The integers
represent the following, with memory measured in kilobytes
and durations in milliseconds:
.RS
.IP 1. .25in
The process\(cqs virtual memory size\fR.
.IP 2. .25in
The process\(cqs resident set size\fR.
.IP 3. .25in
The amount of user and system CPU time consumed by the
process\fR.
.IP 4. .25in
The number of times that the process has crashed and been
automatically restarted by the monitor\fR.
.IP 5. .25in
The duration since the process was started\fR.
.IP 6. .25in
The duration for which the process has been running\fR.
.RE
.IP
The interpretation of some of these values depends on whether the
process was started with the \fB\-\-monitor\fR\fR.  If it
was not, then the crash count will always be 0 and the two
durations will always be the same\fR.  If \fB\-\-monitor\fR
was given, then the crash count may be positive; if it is, the
latter duration is the amount of time since the most recent crash
and restart\fR.
.IP
There will be one key-value pair for each file in Open vSwitch\(cqs
``run directory\(cq\(cq (usually \fB/var/run/openvswitch\fR)
whose name ends in \fB\fB.pid\fR, whose contents are a
process ID, and which is locked by a running process\fR.  The
\fIname\fR is taken from the pidfile\(cqs name\fR.
.IP
Currently Open vSwitch is only able to obtain all of the above
detail on Linux systems\fR.  On other systems, the same key-value
pairs will be present but the values will always be the empty
string\fR.
.IP "\fBstatistics : file_systems\fR: optional string"
A space-separated list of information on local, writable file
systems\fR.  Each item in the list describes one file system and
consists in turn of a comma-separated list of the following:
.RS
.IP 1. .25in
Mount point, e\fR.g\fR. \fB/\fR or \fB/var/log\fR\fR.
Any spaces or commas in the mount point are replaced by
underscores\fR.
.IP 2. .25in
Total size, in kilobytes, as an integer\fR.
.IP 3. .25in
Amount of storage in use, in kilobytes, as an integer\fR.
.RE
.IP
This key-value pair is omitted if there are no local, writable
file systems or if Open vSwitch cannot obtain the needed
information\fR.
.ST "Version Reporting:"
These columns report the types and versions of the hardware and
software running Open vSwitch\fR.  We recommend in general that software
should test whether specific features are supported instead of relying
on version number checks\fR.  These values are primarily intended for
reporting to human administrators\fR.
.IP "\fBovs_version\fR: optional string"
The Open vSwitch version number, e\fR.g\fR. \fB1\fB.1\fB.0\fR\fR.
.IP "\fBdb_version\fR: optional string"
The database schema version number in the form
\fB\fImajor\fB\fB.\fIminor\fB\fB.\fItweak\fB\fR,
e\fR.g\fR. \fB1\fB.2\fB.3\fR\fR.  Whenever the database schema is changed in
a non-backward compatible way (e\fR.g\fR. deleting a column or a table),
\fImajor\fR is incremented\fR.  When the database schema is changed
in a backward compatible way (e\fR.g\fR. adding a new column),
\fIminor\fR is incremented\fR.  When the database schema is changed
cosmetically (e\fR.g\fR. reindenting its syntax), \fItweak\fR is
incremented\fR.
.IP
The schema version is part of the database schema, so it can also be
retrieved by fetching the schema using the Open vSwitch database
protocol\fR.
.IP "\fBsystem_type\fR: optional string"
An identifier for the type of system on top of which Open vSwitch
runs, e\fR.g\fR. \fBXenServer\fR or \fBKVM\fR\fR.
.IP
System integrators are responsible for choosing and setting an
appropriate value for this column\fR.
.IP "\fBsystem_version\fR: optional string"
The version of the system identified by \fBsystem_type\fR,
e\fR.g\fR. \fB5\fB.6\fB.100\-39265p\fR on XenServer 5\fR.6\fR.100 build 39265\fR.
.IP
System integrators are responsible for choosing and setting an
appropriate value for this column\fR.
.ST "Capabilities:"
These columns report capabilities of the Open vSwitch instance\fR.
.IP "\fBdatapath_types\fR: set of strings"
This column reports the different dpifs registered with the system\fR.
These are the values that this instance supports in the \fBdatapath_type\fR column of the \fBBridge\fR table\fR.
.IP "\fBiface_types\fR: set of strings"
This column reports the different netdevs registered with the system\fR.
These are the values that this instance supports in the \fBtype\fR column of the \fBInterface\fR table\fR.
.ST "Database Configuration:"
These columns primarily configure the Open vSwitch database
(\fBovsdb\-server\fR), not the Open vSwitch switch
(\fBovs\-vswitchd\fR)\fR.  The OVSDB database also uses the \fBssl\fR settings\fR.
.PP
The Open vSwitch switch does read the database configuration to
determine remote IP addresses to which in-band control should apply\fR.
.IP "\fBmanager_options\fR: set of \fBManager\fRs"
Database clients to which the Open vSwitch database server should
connect or to which it should listen, along with options for how these
connection should be configured\fR.  See the \fBManager\fR table
for more information\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Bridge TABLE"
Configuration for a bridge within an
\fBOpen_vSwitch\fR\fR.
.PP
A \fBBridge\fR record represents an Ethernet switch with one or
more ``ports,\(cq\(cq which are the \fBPort\fR records pointed to by
the \fBBridge\fR\(cqs \fBports\fR column\fR.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBname\fR
immutable string (must be unique within table)
.TQ 2.75in
\fBports\fR
set of \fBPort\fRs
.TQ 2.75in
\fBmirrors\fR
set of \fBMirror\fRs
.TQ 2.75in
\fBnetflow\fR
optional \fBNetFlow\fR
.TQ 2.75in
\fBsflow\fR
optional \fBsFlow\fR
.TQ 2.75in
\fBipfix\fR
optional \fBIPFIX\fR
.TQ 2.75in
\fBflood_vlans\fR
set of up to 4,096 integers, in range 0 to 4,095
.TQ 2.75in
\fBauto_attach\fR
optional \fBAutoAttach\fR
.RE
.TQ .25in
\fIOpenFlow Configuration:\fR
.RS .25in
.TQ 2.75in
\fBcontroller\fR
set of \fBController\fRs
.TQ 2.75in
\fBflow_tables\fR
map of integer-\fBFlow_Table\fR pairs, key in range 0 to 254
.TQ 2.75in
\fBfail_mode\fR
optional string, either \fBsecure\fR or \fBstandalone\fR
.TQ 2.75in
\fBdatapath_id\fR
optional string
.TQ 2.75in
\fBdatapath_version\fR
string
.TQ 2.75in
\fBother_config : datapath-id\fR
optional string
.TQ 2.75in
\fBother_config : dp-desc\fR
optional string
.TQ 2.75in
\fBother_config : disable-in-band\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : in-band-queue\fR
optional string, containing an integer, in range 0 to 4,294,967,295
.TQ 2.75in
\fBprotocols\fR
set of strings, one of \fBOpenFlow11\fR, \fBOpenFlow10\fR, \fBOpenFlow13\fR, \fBOpenFlow12\fR, \fBOpenFlow15\fR, or \fBOpenFlow14\fR
.RE
.TQ .25in
\fISpanning Tree Configuration:\fR
.RS .25in
.TQ .25in
\fISTP Configuration:\fR
.RS .25in
.TQ 2.50in
\fBstp_enable\fR
boolean
.TQ 2.50in
\fBother_config : stp-system-id\fR
optional string
.TQ 2.50in
\fBother_config : stp-priority\fR
optional string, containing an integer, in range 0 to 65,535
.TQ 2.50in
\fBother_config : stp-hello-time\fR
optional string, containing an integer, in range 1 to 10
.TQ 2.50in
\fBother_config : stp-max-age\fR
optional string, containing an integer, in range 6 to 40
.TQ 2.50in
\fBother_config : stp-forward-delay\fR
optional string, containing an integer, in range 4 to 30
.TQ 2.50in
\fBother_config : mcast-snooping-aging-time\fR
optional string, containing an integer, at least 1
.TQ 2.50in
\fBother_config : mcast-snooping-table-size\fR
optional string, containing an integer, at least 1
.TQ 2.50in
\fBother_config : mcast-snooping-disable-flood-unregistered\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fISTP Status:\fR
.RS .25in
.TQ 2.50in
\fBstatus : stp_bridge_id\fR
optional string
.TQ 2.50in
\fBstatus : stp_designated_root\fR
optional string
.TQ 2.50in
\fBstatus : stp_root_path_cost\fR
optional string
.RE
.RE
.TQ .25in
\fIRapid Spanning Tree:\fR
.RS .25in
.TQ .25in
\fIRSTP Configuration:\fR
.RS .25in
.TQ 2.50in
\fBrstp_enable\fR
boolean
.TQ 2.50in
\fBother_config : rstp-address\fR
optional string
.TQ 2.50in
\fBother_config : rstp-priority\fR
optional string, containing an integer, in range 0 to 61,440
.TQ 2.50in
\fBother_config : rstp-ageing-time\fR
optional string, containing an integer, in range 10 to 1,000,000
.TQ 2.50in
\fBother_config : rstp-force-protocol-version\fR
optional string, containing an integer
.TQ 2.50in
\fBother_config : rstp-max-age\fR
optional string, containing an integer, in range 6 to 40
.TQ 2.50in
\fBother_config : rstp-forward-delay\fR
optional string, containing an integer, in range 4 to 30
.TQ 2.50in
\fBother_config : rstp-transmit-hold-count\fR
optional string, containing an integer, in range 1 to 10
.RE
.TQ .25in
\fIRSTP Status:\fR
.RS .25in
.TQ 2.50in
\fBrstp_status : rstp_bridge_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_root_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_root_path_cost\fR
optional string, containing an integer, at least 0
.TQ 2.50in
\fBrstp_status : rstp_designated_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_designated_port_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_bridge_port_id\fR
optional string
.RE
.RE
.TQ .25in
\fIMulticast Snooping Configuration:\fR
.RS .25in
.TQ 2.75in
\fBmcast_snooping_enable\fR
boolean
.RE
.TQ .25in
\fIOther Features:\fR
.RS .25in
.TQ 2.75in
\fBdatapath_type\fR
string
.TQ 2.75in
\fBexternal_ids : bridge-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-network-uuids\fR
optional string
.TQ 2.75in
\fBother_config : hwaddr\fR
optional string
.TQ 2.75in
\fBother_config : forward-bpdu\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : mac-aging-time\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : mac-table-size\fR
optional string, containing an integer, at least 1
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBname\fR: immutable string (must be unique within table)"
Bridge identifier\fR.  Should be alphanumeric and no more than about 8
bytes long\fR.  Must be unique among the names of ports, interfaces, and
bridges on a host\fR.
.IP "\fBports\fR: set of \fBPort\fRs"
Ports included in the bridge\fR.
.IP "\fBmirrors\fR: set of \fBMirror\fRs"
Port mirroring configuration\fR.
.IP "\fBnetflow\fR: optional \fBNetFlow\fR"
NetFlow configuration\fR.
.IP "\fBsflow\fR: optional \fBsFlow\fR"
sFlow(R) configuration\fR.
.IP "\fBipfix\fR: optional \fBIPFIX\fR"
IPFIX configuration\fR.
.IP "\fBflood_vlans\fR: set of up to 4,096 integers, in range 0 to 4,095"
VLAN IDs of VLANs on which MAC address learning should be disabled,
so that packets are flooded instead of being sent to specific ports
that are believed to contain packets\(cq destination MACs\fR.  This should
ordinarily be used to disable MAC learning on VLANs used for
mirroring (RSPAN VLANs)\fR.  It may also be useful for debugging\fR.
.IP
SLB bonding (see the \fBbond_mode\fR column in
the \fBPort\fR table) is incompatible with
\fBflood_vlans\fR\fR.  Consider using another bonding mode or
a different type of mirror instead\fR.
.IP "\fBauto_attach\fR: optional \fBAutoAttach\fR"
Auto Attach configuration\fR.
.ST "OpenFlow Configuration:"
.IP "\fBcontroller\fR: set of \fBController\fRs"
OpenFlow controller set\fR.  If unset, then no OpenFlow controllers
will be used\fR.
.IP
If there are primary controllers, removing all of them clears the
flow table\fR.  If there are no primary controllers, adding one also
clears the flow table\fR.  Other changes to the set of controllers, such
as adding or removing a service controller, adding another primary
controller to supplement an existing primary controller, or removing
only one of two primary controllers, have no effect on the flow
table\fR.
.IP "\fBflow_tables\fR: map of integer-\fBFlow_Table\fR pairs, key in range 0 to 254"
Configuration for OpenFlow tables\fR.  Each pair maps from an OpenFlow
table ID to configuration for that table\fR.
.IP "\fBfail_mode\fR: optional string, either \fBsecure\fR or \fBstandalone\fR"
When a controller is configured, it is, ordinarily, responsible
for setting up all flows on the switch\fR.  Thus, if the connection to
the controller fails, no new network connections can be set up\fR.
If the connection to the controller stays down long enough,
no packets can pass through the switch at all\fR.  This setting
determines the switch\(cqs response to such a situation\fR.  It may be set
to one of the following:
.RS
.TP
\fBstandalone\fR
If no message is received from the controller for three
times the inactivity probe interval
(see \fBinactivity_probe\fR), then Open vSwitch
will take over responsibility for setting up flows\fR.  In
this mode, Open vSwitch causes the bridge to act like an
ordinary MAC-learning switch\fR.  Open vSwitch will continue
to retry connecting to the controller in the background
and, when the connection succeeds, it will discontinue its
standalone behavior\fR.
.TP
\fBsecure\fR
Open vSwitch will not set up flows on its own when the
controller connection fails or when no controllers are
defined\fR.  The bridge will continue to retry connecting to
any defined controllers forever\fR.
.RE
.IP
The default is \fBstandalone\fR if the value is unset, but
future versions of Open vSwitch may change the default\fR.
.IP
The \fBstandalone\fR mode can create forwarding loops on a
bridge that has more than one uplink port unless STP is enabled\fR.  To
avoid loops on such a bridge, configure \fBsecure\fR mode or
enable STP (see \fBstp_enable\fR)\fR.
.IP
When more than one controller is configured,
\fBfail_mode\fR is considered only when none of the
configured controllers can be contacted\fR.
.IP
Changing \fBfail_mode\fR when no primary controllers are
configured clears the flow table\fR.
.IP "\fBdatapath_id\fR: optional string"
Reports the OpenFlow datapath ID in use\fR.  Exactly 16 hex digits\fR.
(Setting this column has no useful effect\fR.  Set \fBother-config:datapath-id\fR instead\fR.)
.IP "\fBdatapath_version\fR: string"
Reports the version number of the Open vSwitch datapath in use\fR.
This allows management software to detect and report discrepancies
between Open vSwitch userspace and datapath versions\fR.  (The \fBovs_version\fR column in the \fBOpen_vSwitch\fR reports the Open vSwitch userspace version\fR.)
The version reported depends on the datapath in use:
.RS
.IP \(bu
When the kernel module included in the Open vSwitch source tree is
used, this column reports the Open vSwitch version from which the
module was taken\fR.
.IP \(bu
When the kernel module that is part of the upstream Linux kernel is
used, this column reports \fB<unknown>\fR\fR.
.IP \(bu
When the datapath is built into the \fBovs\-vswitchd\fR
binary, this column reports \fB<built\-in>\fR\fR.  A
built-in datapath is by definition the same version as the rest of
the Open VSwitch userspace\fR.
.IP \(bu
Other datapaths (such as the Hyper-V kernel datapath) currently
report \fB<unknown>\fR\fR.
.RE
.IP
A version discrepancy between \fBovs\-vswitchd\fR and the
datapath in use is not normally cause for alarm\fR.  The Open vSwitch
kernel datapaths for Linux and Hyper-V, in particular, are designed
for maximum inter-version compatibility: any userspace version works
with with any kernel version\fR.  Some reasons do exist to insist on
particular user/kernel pairings\fR.  First, newer kernel versions add
new features, that can only be used by new-enough userspace, e\fR.g\fR.
VXLAN tunneling requires certain minimal userspace and kernel
versions\fR.  Second, as an extension to the first reason, some newer
kernel versions add new features for enhancing performance that only
new-enough userspace versions can take advantage of\fR.
.IP "\fBother_config : datapath-id\fR: optional string"
Exactly 16 hex digits to set the OpenFlow datapath ID to a specific
value\fR.  May not be all-zero\fR.
.IP "\fBother_config : dp-desc\fR: optional string"
Human readable description of datapath\fR.  It it a maximum 256
byte-long free-form string to describe the datapath for
debugging purposes, e\fR.g\fR. \fBswitch3 in room 3120\fR\fR.
.IP "\fBother_config : disable-in-band\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
If set to \fBtrue\fR, disable in-band control on the bridge
regardless of controller and manager settings\fR.
.IP "\fBother_config : in-band-queue\fR: optional string, containing an integer, in range 0 to 4,294,967,295"
A queue ID as a nonnegative integer\fR.  This sets the OpenFlow queue ID
that will be used by flows set up by in-band control on this bridge\fR.
If unset, or if the port used by an in-band control flow does not have
QoS configured, or if the port does not have a queue with the specified
ID, the default queue is used instead\fR.
.IP "\fBprotocols\fR: set of strings, one of \fBOpenFlow11\fR, \fBOpenFlow10\fR, \fBOpenFlow13\fR, \fBOpenFlow12\fR, \fBOpenFlow15\fR, or \fBOpenFlow14\fR"
List of OpenFlow protocols that may be used when negotiating
a connection with a controller\fR.  OpenFlow 1\fR.0, 1\fR.1, 1\fR.2, and
1\fR.3 are enabled by default if this column is empty\fR.
.IP
OpenFlow 1\fR.4 is not enabled by default because its implementation is
missing features\fR.
.IP
OpenFlow 1\fR.5 has the same risks as OpenFlow 1\fR.4, but it is even more
experimental because the OpenFlow 1\fR.5 specification is still under
development and thus subject to change\fR.  Pass
\fB\-\-enable\-of15\fR to \fBovs\-vswitchd\fR to allow
OpenFlow 1\fR.5 to be enabled\fR.
.ST "Spanning Tree Configuration:"
The IEEE 802\fR.1D Spanning Tree Protocol (STP) is a network protocol
that ensures loop-free topologies\fR.  It allows redundant links to
be included in the network to provide automatic backup paths if
the active links fails\fR.
.PP
These settings configure the slower-to-converge but still widely
supported version of Spanning Tree Protocol, sometimes known as
802\fR.1D\-1998\fR.  Open vSwitch also supports the newer Rapid Spanning Tree
Protocol (RSTP), documented later in the section titled \fBRapid
Spanning Tree Configuration\fR\fR.
.ST "STP Configuration:"
.IP "\fBstp_enable\fR: boolean"
Enable spanning tree on the bridge\fR.  By default, STP is disabled
on bridges\fR.  Bond, internal, and mirror ports are not supported
and will not participate in the spanning tree\fR.
.IP
STP and RSTP are mutually exclusive\fR.  If both are enabled, RSTP
will be used\fR.
.IP "\fBother_config : stp-system-id\fR: optional string"
The bridge\(cqs STP identifier (the lower 48 bits of the bridge-id)
in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR\fR.
By default, the identifier is the MAC address of the bridge\fR.
.IP "\fBother_config : stp-priority\fR: optional string, containing an integer, in range 0 to 65,535"
The bridge\(cqs relative priority value for determining the root
bridge (the upper 16 bits of the bridge-id)\fR.  A bridge with the
lowest bridge-id is elected the root\fR.  By default, the priority
is 0x8000\fR.
.IP "\fBother_config : stp-hello-time\fR: optional string, containing an integer, in range 1 to 10"
The interval between transmissions of hello messages by
designated ports, in seconds\fR.  By default the hello interval is
2 seconds\fR.
.IP "\fBother_config : stp-max-age\fR: optional string, containing an integer, in range 6 to 40"
The maximum age of the information transmitted by the bridge
when it is the root bridge, in seconds\fR.  By default, the maximum
age is 20 seconds\fR.
.IP "\fBother_config : stp-forward-delay\fR: optional string, containing an integer, in range 4 to 30"
The delay to wait between transitioning root and designated
ports to \fBforwarding\fR, in seconds\fR.  By default, the
forwarding delay is 15 seconds\fR.
.IP "\fBother_config : mcast-snooping-aging-time\fR: optional string, containing an integer, at least 1"
The maximum number of seconds to retain a multicast snooping entry for
which no packets have been seen\fR.  The default is currently 300
seconds (5 minutes)\fR.  The value, if specified, is forced into a
reasonable range, currently 15 to 3600 seconds\fR.
.IP "\fBother_config : mcast-snooping-table-size\fR: optional string, containing an integer, at least 1"
The maximum number of multicast snooping addresses to learn\fR.  The
default is currently 2048\fR.  The value, if specified, is forced into
a reasonable range, currently 10 to 1,000,000\fR.
.IP "\fBother_config : mcast-snooping-disable-flood-unregistered\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
If set to \fBfalse\fR, unregistered multicast packets are forwarded
to all ports\fR.
If set to \fBtrue\fR, unregistered multicast packets are forwarded
to ports connected to multicast routers\fR.
.ST "STP Status:"
These key-value pairs report the status of 802\fR.1D\-1998\fR.  They are
present only if STP is enabled (via the \fBstp_enable\fR
column)\fR.
.IP "\fBstatus : stp_bridge_id\fR: optional string"
The bridge ID used in spanning tree advertisements, in the form
\fIxxxx\fR\fR.\fIyyyyyyyyyyyy\fR where the \fIx\fRs are
the STP priority, the \fIy\fRs are the STP system ID, and each
\fIx\fR and \fIy\fR is a hex digit\fR.
.IP "\fBstatus : stp_designated_root\fR: optional string"
The designated root for this spanning tree, in the same form as \fBstatus:stp_bridge_id\fR\fR.  If this bridge is the root,
this will have the same value as \fBstatus:stp_bridge_id\fR, otherwise it will differ\fR.
.IP "\fBstatus : stp_root_path_cost\fR: optional string"
The path cost of reaching the designated bridge\fR.  A lower number is
better\fR.  The value is 0 if this bridge is the root, otherwise it is
higher\fR.
.ST "Rapid Spanning Tree:"
Rapid Spanning Tree Protocol (RSTP), like STP, is a network protocol
that ensures loop-free topologies\fR.  RSTP superseded STP with the
publication of 802\fR.1D\-2004\fR.  Compared to STP, RSTP converges more
quickly and recovers more quickly from failures\fR.
.ST "RSTP Configuration:"
.IP "\fBrstp_enable\fR: boolean"
Enable Rapid Spanning Tree on the bridge\fR.  By default, RSTP is disabled
on bridges\fR.  Bond, internal, and mirror ports are not supported
and will not participate in the spanning tree\fR.
.IP
STP and RSTP are mutually exclusive\fR.  If both are enabled, RSTP
will be used\fR.
.IP "\fBother_config : rstp-address\fR: optional string"
The bridge\(cqs RSTP address (the lower 48 bits of the bridge-id)
in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR\fR.
By default, the address is the MAC address of the bridge\fR.
.IP "\fBother_config : rstp-priority\fR: optional string, containing an integer, in range 0 to 61,440"
The bridge\(cqs relative priority value for determining the root
bridge (the upper 16 bits of the bridge-id)\fR.  A bridge with the
lowest bridge-id is elected the root\fR.  By default, the priority
is 0x8000 (32768)\fR.  This value needs to be a multiple of 4096,
otherwise it\(cqs rounded to the nearest inferior one\fR.
.IP "\fBother_config : rstp-ageing-time\fR: optional string, containing an integer, in range 10 to 1,000,000"
The Ageing Time parameter for the Bridge\fR.  The default value
is 300 seconds\fR.
.IP "\fBother_config : rstp-force-protocol-version\fR: optional string, containing an integer"
The Force Protocol Version parameter for the Bridge\fR.  This
can take the value 0 (STP Compatibility mode) or 2
(the default, normal operation)\fR.
.IP "\fBother_config : rstp-max-age\fR: optional string, containing an integer, in range 6 to 40"
The maximum age of the information transmitted by the Bridge
when it is the Root Bridge\fR.  The default value is 20\fR.
.IP "\fBother_config : rstp-forward-delay\fR: optional string, containing an integer, in range 4 to 30"
The delay used by STP Bridges to transition Root and Designated
Ports to Forwarding\fR.  The default value is 15\fR.
.IP "\fBother_config : rstp-transmit-hold-count\fR: optional string, containing an integer, in range 1 to 10"
The Transmit Hold Count used by the Port Transmit state machine
to limit transmission rate\fR.  The default value is 6\fR.
.ST "RSTP Status:"
These key-value pairs report the status of 802\fR.1D\-2004\fR.  They are
present only if RSTP is enabled (via the \fBrstp_enable\fR
column)\fR.
.IP "\fBrstp_status : rstp_bridge_id\fR: optional string"
The bridge ID used in rapid spanning tree advertisements, in the form
\fIx\fR\fR.\fIyyy\fR\fR.\fIzzzzzzzzzzzz\fR where
\fIx\fR is the RSTP priority, the \fIy\fRs are a locally
assigned system ID extension, the \fIz\fRs are the STP system
ID, and each \fIx\fR, \fIy\fR, or \fIz\fR is a hex
digit\fR.
.IP "\fBrstp_status : rstp_root_id\fR: optional string"
The root of this spanning tree, in the same form as \fBrstp_status:rstp_bridge_id\fR\fR.  If this bridge is the
root, this will have the same value as \fBrstp_status:rstp_bridge_id\fR, otherwise it will differ\fR.
.IP "\fBrstp_status : rstp_root_path_cost\fR: optional string, containing an integer, at least 0"
The path cost of reaching the root\fR.  A lower number is better\fR.  The
value is 0 if this bridge is the root, otherwise it is higher\fR.
.IP "\fBrstp_status : rstp_designated_id\fR: optional string"
The RSTP designated ID, in the same form as \fBrstp_status:rstp_bridge_id\fR\fR.
.IP "\fBrstp_status : rstp_designated_port_id\fR: optional string"
The RSTP designated port ID, as a 4-digit hex number\fR.
.IP "\fBrstp_status : rstp_bridge_port_id\fR: optional string"
The RSTP bridge port ID, as a 4-digit hex number\fR.
.ST "Multicast Snooping Configuration:"
Multicast snooping (RFC 4541) monitors the Internet Group Management
Protocol (IGMP) traffic between hosts and multicast routers\fR.  The
switch uses what IGMP snooping learns to forward multicast traffic
only to interfaces that are connected to interested receivers\fR.
Currently it supports IGMPv1, IGMPv2 and IGMPv3 protocols\fR.
.IP "\fBmcast_snooping_enable\fR: boolean"
Enable multicast snooping on the bridge\fR. For now, the default
is disabled\fR.
.ST "Other Features:"
.IP "\fBdatapath_type\fR: string"
Name of datapath provider\fR.  The kernel datapath has type
\fBsystem\fR\fR.  The userspace datapath has type
\fBnetdev\fR\fR.  A manager may refer to the \fBdatapath_types\fR column of the \fBOpen_vSwitch\fR table for a list of the types accepted by this
Open vSwitch instance\fR.
.IP "\fBexternal_ids : bridge-id\fR: optional string"
A unique identifier of the bridge\fR.  On Citrix XenServer this will
commonly be the same as
\fBexternal_ids:xs-network-uuids\fR\fR.
.IP "\fBexternal_ids : xs-network-uuids\fR: optional string"
Semicolon-delimited set of universally unique identifier(s) for the
network with which this bridge is associated on a Citrix XenServer
host\fR.  The network identifiers are RFC 4122 UUIDs as displayed by,
e\fR.g\fR., \fBxe network\-list\fR\fR.
.IP "\fBother_config : hwaddr\fR: optional string"
An Ethernet address in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR
to set the hardware address of the local port and influence the
datapath ID\fR.
.IP "\fBother_config : forward-bpdu\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Controls forwarding of BPDUs and other network control frames when
NORMAL action is invoked\fR.  When this option is \fBfalse\fR or
unset, frames with reserved Ethernet addresses (see table below) will
not be forwarded\fR.  When this option is \fBtrue\fR, such frames
will not be treated specially\fR.
.IP
The above general rule has the following exceptions:
.RS
.IP \(bu
If STP is enabled on the bridge (see the \fBstp_enable\fR column in the \fBBridge\fR table), the
bridge processes all received STP packets and never passes them to
OpenFlow or forwards them\fR.  This is true even if STP is disabled on
an individual port\fR.
.IP \(bu
If LLDP is enabled on an interface (see the \fBlldp\fR column in the \fBInterface\fR table),
the interface processes received LLDP packets and never passes them
to OpenFlow or forwards them\fR.
.RE
.IP
Set this option to \fBtrue\fR if the Open vSwitch bridge
connects different Ethernet networks and is not configured to
participate in STP\fR.
.IP
This option affects packets with the following destination MAC
addresses:
.RS
.TP
\fB01:80:c2:00:00:00\fR
IEEE 802\fR.1D Spanning Tree Protocol (STP)\fR.
.TP
\fB01:80:c2:00:00:01\fR
IEEE Pause frame\fR.
.TP
\fB01:80:c2:00:00:0\fIx\fB\fR
Other reserved protocols\fR.
.TP
\fB00:e0:2b:00:00:00\fR
Extreme Discovery Protocol (EDP)\fR.
.TP
\fB00:e0:2b:00:00:04\fR and \fB00:e0:2b:00:00:06\fR
Ethernet Automatic Protection Switching (EAPS)\fR.
.TP
\fB01:00:0c:cc:cc:cc\fR
Cisco Discovery Protocol (CDP), VLAN Trunking Protocol (VTP),
Dynamic Trunking Protocol (DTP), Port Aggregation Protocol (PAgP),
and others\fR.
.TP
\fB01:00:0c:cc:cc:cd\fR
Cisco Shared Spanning Tree Protocol PVSTP+\fR.
.TP
\fB01:00:0c:cd:cd:cd\fR
Cisco STP Uplink Fast\fR.
.TP
\fB01:00:0c:00:00:00\fR
Cisco Inter Switch Link\fR.
.TP
\fB01:00:0c:cc:cc:c\fIx\fB\fR
Cisco CFM\fR.
.RE
.IP "\fBother_config : mac-aging-time\fR: optional string, containing an integer, at least 1"
The maximum number of seconds to retain a MAC learning entry for
which no packets have been seen\fR.  The default is currently 300
seconds (5 minutes)\fR.  The value, if specified, is forced into a
reasonable range, currently 15 to 3600 seconds\fR.
.IP
A short MAC aging time allows a network to more quickly detect that a
host is no longer connected to a switch port\fR.  However, it also makes
it more likely that packets will be flooded unnecessarily, when they
are addressed to a connected host that rarely transmits packets\fR.  To
reduce the incidence of unnecessary flooding, use a MAC aging time
longer than the maximum interval at which a host will ordinarily
transmit packets\fR.
.IP "\fBother_config : mac-table-size\fR: optional string, containing an integer, at least 1"
The maximum number of MAC addresses to learn\fR.  The default is
currently 2048\fR.  The value, if specified, is forced into a reasonable
range, currently 10 to 1,000,000\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Port TABLE"
A port within a \fBBridge\fR\fR.
.PP
Most commonly, a port has exactly one ``interface,\(cq\(cq pointed to by its
\fBinterfaces\fR column\fR.  Such a port logically
corresponds to a port on a physical Ethernet switch\fR.  A port
with more than one interface is a ``bonded port\(cq\(cq (see
\fBBonding Configuration\fR)\fR.
.PP
Some properties that one might think as belonging to a port are actually
part of the port\(cqs \fBInterface\fR members\fR.
.SS "Summary:
.TQ 3.00in
\fBname\fR
immutable string (must be unique within table)
.TQ 3.00in
\fBinterfaces\fR
set of 1 or more \fBInterface\fRs
.TQ .25in
\fIVLAN Configuration:\fR
.RS .25in
.TQ 2.75in
\fBvlan_mode\fR
optional string, one of \fBaccess\fR, \fBnative\-tagged\fR, \fBnative\-untagged\fR, or \fBtrunk\fR
.TQ 2.75in
\fBtag\fR
optional integer, in range 0 to 4,095
.TQ 2.75in
\fBtrunks\fR
set of up to 4,096 integers, in range 0 to 4,095
.TQ 2.75in
\fBother_config : priority-tags\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIBonding Configuration:\fR
.RS .25in
.TQ 2.75in
\fBbond_mode\fR
optional string, one of \fBactive\-backup\fR, \fBbalance\-tcp\fR, or \fBbalance\-slb\fR
.TQ 2.75in
\fBother_config : bond-hash-basis\fR
optional string, containing an integer
.TQ .25in
\fILink Failure Detection:\fR
.RS .25in
.TQ 2.50in
\fBother_config : bond-detect-mode\fR
optional string, either \fBmiimon\fR or \fBcarrier\fR
.TQ 2.50in
\fBother_config : bond-miimon-interval\fR
optional string, containing an integer
.TQ 2.50in
\fBbond_updelay\fR
integer
.TQ 2.50in
\fBbond_downdelay\fR
integer
.RE
.TQ .25in
\fILACP Configuration:\fR
.RS .25in
.TQ 2.50in
\fBlacp\fR
optional string, one of \fBactive\fR, \fBpassive\fR, or \fBoff\fR
.TQ 2.50in
\fBother_config : lacp-system-id\fR
optional string
.TQ 2.50in
\fBother_config : lacp-system-priority\fR
optional string, containing an integer, in range 1 to 65,535
.TQ 2.50in
\fBother_config : lacp-time\fR
optional string, either \fBslow\fR or \fBfast\fR
.TQ 2.50in
\fBother_config : lacp-fallback-ab\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIRebalancing Configuration:\fR
.RS .25in
.TQ 2.50in
\fBother_config : bond-rebalance-interval\fR
optional string, containing an integer, in range 0 to 10,000
.RE
.TQ 2.75in
\fBbond_fake_iface\fR
boolean
.RE
.TQ .25in
\fISpanning Tree Protocol:\fR
.RS .25in
.TQ .25in
\fISTP Configuration:\fR
.RS .25in
.TQ 2.50in
\fBother_config : stp-enable\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBother_config : stp-port-num\fR
optional string, containing an integer, in range 1 to 255
.TQ 2.50in
\fBother_config : stp-port-priority\fR
optional string, containing an integer, in range 0 to 255
.TQ 2.50in
\fBother_config : stp-path-cost\fR
optional string, containing an integer, in range 0 to 65,535
.RE
.TQ .25in
\fISTP Status:\fR
.RS .25in
.TQ 2.50in
\fBstatus : stp_port_id\fR
optional string
.TQ 2.50in
\fBstatus : stp_state\fR
optional string, one of \fBdisabled\fR, \fBforwarding\fR, \fBlearning\fR, \fBlistening\fR, or \fBblocking\fR
.TQ 2.50in
\fBstatus : stp_sec_in_state\fR
optional string, containing an integer, at least 0
.TQ 2.50in
\fBstatus : stp_role\fR
optional string, one of \fBdesignated\fR, \fBalternate\fR, or \fBroot\fR
.RE
.RE
.TQ .25in
\fIRapid Spanning Tree Protocol:\fR
.RS .25in
.TQ .25in
\fIRSTP Configuration:\fR
.RS .25in
.TQ 2.50in
\fBother_config : rstp-enable\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBother_config : rstp-port-priority\fR
optional string, containing an integer, in range 0 to 240
.TQ 2.50in
\fBother_config : rstp-port-num\fR
optional string, containing an integer, in range 1 to 4,095
.TQ 2.50in
\fBother_config : rstp-port-path-cost\fR
optional string, containing an integer
.TQ 2.50in
\fBother_config : rstp-port-admin-edge\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBother_config : rstp-port-auto-edge\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBother_config : rstp-port-mcheck\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIRSTP Status:\fR
.RS .25in
.TQ 2.50in
\fBrstp_status : rstp_port_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_port_role\fR
optional string, one of \fBBackup\fR, \fBDesignated\fR, \fBAlternate\fR, \fBRoot\fR, or \fBDisabled\fR
.TQ 2.50in
\fBrstp_status : rstp_port_state\fR
optional string, one of \fBDisabled\fR, \fBDiscarding\fR, \fBForwarding\fR, or \fBLearning\fR
.TQ 2.50in
\fBrstp_status : rstp_designated_bridge_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_designated_port_id\fR
optional string
.TQ 2.50in
\fBrstp_status : rstp_designated_path_cost\fR
optional string, containing an integer
.RE
.TQ .25in
\fIRSTP Statistics:\fR
.RS .25in
.TQ 2.50in
\fBrstp_statistics : rstp_tx_count\fR
optional integer
.TQ 2.50in
\fBrstp_statistics : rstp_rx_count\fR
optional integer
.TQ 2.50in
\fBrstp_statistics : rstp_error_count\fR
optional integer
.TQ 2.50in
\fBrstp_statistics : rstp_uptime\fR
optional integer
.RE
.RE
.TQ .25in
\fIMulticast Snooping:\fR
.RS .25in
.TQ 2.75in
\fBother_config : mcast-snooping-flood\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : mcast-snooping-flood-reports\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIOther Features:\fR
.RS .25in
.TQ 2.75in
\fBqos\fR
optional \fBQoS\fR
.TQ 2.75in
\fBmac\fR
optional string
.TQ 2.75in
\fBfake_bridge\fR
boolean
.TQ 2.75in
\fBexternal_ids : fake-bridge-id-*\fR
optional string
.RE
.TQ 3.00in
\fBbond_active_slave\fR
optional string
.TQ .25in
\fIPort Statistics:\fR
.RS .25in
.TQ .25in
\fIStatistics: STP transmit and receive counters:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : stp_tx_count\fR
optional integer
.TQ 2.50in
\fBstatistics : stp_rx_count\fR
optional integer
.TQ 2.50in
\fBstatistics : stp_error_count\fR
optional integer
.RE
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBname\fR: immutable string (must be unique within table)"
Port name\fR.  Should be alphanumeric and no more than about 8
bytes long\fR.  May be the same as the interface name, for
non-bonded ports\fR.  Must otherwise be unique among the names of
ports, interfaces, and bridges on a host\fR.
.IP "\fBinterfaces\fR: set of 1 or more \fBInterface\fRs"
The port\(cqs interfaces\fR.  If there is more than one, this is a
bonded Port\fR.
.ST "VLAN Configuration:"
Bridge ports support the following types of VLAN configuration:
.RS
.TP
trunk
A trunk port carries packets on one or more specified VLANs
specified in the \fBtrunks\fR column (often, on every
VLAN)\fR.  A packet that ingresses on a trunk port is in the VLAN
specified in its 802\fR.1Q header, or VLAN 0 if the packet has no
802\fR.1Q header\fR.  A packet that egresses through a trunk port will
have an 802\fR.1Q header if it has a nonzero VLAN ID\fR.
.IP
Any packet that ingresses on a trunk port tagged with a VLAN that
the port does not trunk is dropped\fR.
.TP
access
An access port carries packets on exactly one VLAN specified in the
\fBtag\fR column\fR.  Packets egressing on an access port
have no 802\fR.1Q header\fR.
.IP
Any packet with an 802\fR.1Q header with a nonzero VLAN ID that
ingresses on an access port is dropped, regardless of whether the
VLAN ID in the header is the access port\(cqs VLAN ID\fR.
.TP
native-tagged
A native-tagged port resembles a trunk port, with the exception that
a packet without an 802\fR.1Q header that ingresses on a native-tagged
port is in the ``native VLAN\(cq\(cq (specified in the \fBtag\fR
column)\fR.
.TP
native-untagged
A native-untagged port resembles a native-tagged port, with the
exception that a packet that egresses on a native-untagged port in
the native VLAN will not have an 802\fR.1Q header\fR.
.RE
.PP
A packet will only egress through bridge ports that carry the VLAN of
the packet, as described by the rules above\fR.
.IP "\fBvlan_mode\fR: optional string, one of \fBaccess\fR, \fBnative\-tagged\fR, \fBnative\-untagged\fR, or \fBtrunk\fR"
The VLAN mode of the port, as described above\fR.  When this column is
empty, a default mode is selected as follows:
.RS
.IP \(bu
If \fBtag\fR contains a value, the port is an access
port\fR.  The \fBtrunks\fR column should be empty\fR.
.IP \(bu
Otherwise, the port is a trunk port\fR.  The \fBtrunks\fR
column value is honored if it is present\fR.
.RE
.IP "\fBtag\fR: optional integer, in range 0 to 4,095"
For an access port, the port\(cqs implicitly tagged VLAN\fR.  For a
native-tagged or native-untagged port, the port\(cqs native VLAN\fR.  Must
be empty if this is a trunk port\fR.
.IP "\fBtrunks\fR: set of up to 4,096 integers, in range 0 to 4,095"
For a trunk, native-tagged, or native-untagged port, the 802\fR.1Q VLAN
or VLANs that this port trunks; if it is empty, then the port trunks
all VLANs\fR.  Must be empty if this is an access port\fR.
.IP
A native-tagged or native-untagged port always trunks its native
VLAN, regardless of whether \fBtrunks\fR includes that
VLAN\fR.
.IP "\fBother_config : priority-tags\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
An 802\fR.1Q header contains two important pieces of information: a VLAN
ID and a priority\fR.  A frame with a zero VLAN ID, called a
``priority-tagged\(cq\(cq frame, is supposed to be treated the same way as
a frame without an 802\fR.1Q header at all (except for the priority)\fR.
.IP
However, some network elements ignore any frame that has 802\fR.1Q
header at all, even when the VLAN ID is zero\fR.  Therefore, by default
Open vSwitch does not output priority-tagged frames, instead omitting
the 802\fR.1Q header entirely if the VLAN ID is zero\fR.  Set this key to
\fBtrue\fR to enable priority-tagged frames on a port\fR.
.IP
Regardless of this setting, Open vSwitch omits the 802\fR.1Q header on
output if both the VLAN ID and priority would be zero\fR.
.IP
All frames output to native-tagged ports have a nonzero VLAN ID, so
this setting is not meaningful on native-tagged ports\fR.
.ST "Bonding Configuration:"
A port that has more than one interface is a ``bonded port\fR.\(cq\(cq Bonding
allows for load balancing and fail-over\fR.
.PP
The following types of bonding will work with any kind of upstream
switch\fR.  On the upstream switch, do not configure the interfaces as a
bond:
.RS
.TP
\fBbalance\-slb\fR
Balances flows among slaves based on source MAC address and output
VLAN, with periodic rebalancing as traffic patterns change\fR.
.TP
\fBactive\-backup\fR
Assigns all flows to one slave, failing over to a backup slave when
the active slave is disabled\fR.  This is the only bonding mode in which
interfaces may be plugged into different upstream switches\fR.
.RE
.PP
The following modes require the upstream switch to support 802\fR.3ad with
successful LACP negotiation\fR. If LACP negotiation fails and
other-config:lacp-fallback-ab is true, then \fBactive\-backup\fR
mode is used:
.RS
.TP
\fBbalance\-tcp\fR
Balances flows among slaves based on L2, L3, and L4 protocol
information such as destination MAC address, IP address, and TCP
port\fR.
.RE
.PP
These columns apply only to bonded ports\fR.  Their values are
otherwise ignored\fR.
.IP "\fBbond_mode\fR: optional string, one of \fBactive\-backup\fR, \fBbalance\-tcp\fR, or \fBbalance\-slb\fR"
The type of bonding used for a bonded port\fR.  Defaults to
\fBactive\-backup\fR if unset\fR.
.IP "\fBother_config : bond-hash-basis\fR: optional string, containing an integer"
An integer hashed along with flows when choosing output slaves in load
balanced bonds\fR.  When changed, all flows will be assigned different
hash values possibly causing slave selection decisions to change\fR.  Does
not affect bonding modes which do not employ load balancing such as
\fBactive\-backup\fR\fR.
.ST "Link Failure Detection:"
An important part of link bonding is detecting that links are down so
that they may be disabled\fR.  These settings determine how Open vSwitch
detects link failure\fR.
.IP "\fBother_config : bond-detect-mode\fR: optional string, either \fBmiimon\fR or \fBcarrier\fR"
The means used to detect link failures\fR.  Defaults to
\fBcarrier\fR which uses each interface\(cqs carrier to detect
failures\fR.  When set to \fBmiimon\fR, will check for failures
by polling each interface\(cqs MII\fR.
.IP "\fBother_config : bond-miimon-interval\fR: optional string, containing an integer"
The interval, in milliseconds, between successive attempts to poll
each interface\(cqs MII\fR.  Relevant only when \fBother_config:bond-detect-mode\fR is \fBmiimon\fR\fR.
.IP "\fBbond_updelay\fR: integer"
The number of milliseconds for which the link must stay up on an
interface before the interface is considered to be up\fR.  Specify
\fB0\fR to enable the interface immediately\fR.
.IP
This setting is honored only when at least one bonded interface is
already enabled\fR.  When no interfaces are enabled, then the first
bond interface to come up is enabled immediately\fR.
.IP "\fBbond_downdelay\fR: integer"
The number of milliseconds for which the link must stay down on an
interface before the interface is considered to be down\fR.  Specify
\fB0\fR to disable the interface immediately\fR.
.ST "LACP Configuration:"
LACP, the Link Aggregation Control Protocol, is an IEEE standard that
allows switches to automatically detect that they are connected by
multiple links and aggregate across those links\fR.  These settings
control LACP behavior\fR.
.IP "\fBlacp\fR: optional string, one of \fBactive\fR, \fBpassive\fR, or \fBoff\fR"
Configures LACP on this port\fR.  LACP allows directly connected
switches to negotiate which links may be bonded\fR.  LACP may be enabled
on non-bonded ports for the benefit of any switches they may be
connected to\fR.  \fBactive\fR ports are allowed to initiate LACP
negotiations\fR.  \fBpassive\fR ports are allowed to participate
in LACP negotiations initiated by a remote switch, but not allowed to
initiate such negotiations themselves\fR.  If LACP is enabled on a port
whose partner switch does not support LACP, the bond will be
disabled, unless other-config:lacp-fallback-ab is set to true\fR.
Defaults to \fBoff\fR if unset\fR.
.IP "\fBother_config : lacp-system-id\fR: optional string"
The LACP system ID of this \fBPort\fR\fR.  The system ID of a
LACP bond is used to identify itself to its partners\fR.  Must be a
nonzero MAC address\fR. Defaults to the bridge Ethernet address if
unset\fR.
.IP "\fBother_config : lacp-system-priority\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP system priority of this \fBPort\fR\fR.  In LACP
negotiations, link status decisions are made by the system with the
numerically lower priority\fR.
.IP "\fBother_config : lacp-time\fR: optional string, either \fBslow\fR or \fBfast\fR"
The LACP timing which should be used on this \fBPort\fR\fR.
By default \fBslow\fR is used\fR.  When configured to be
\fBfast\fR LACP heartbeats are requested at a rate of once
per second causing connectivity problems to be detected more
quickly\fR.  In \fBslow\fR mode, heartbeats are requested at a
rate of once every 30 seconds\fR.
.IP "\fBother_config : lacp-fallback-ab\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Determines the behavior of openvswitch bond in LACP mode\fR. If
the partner switch does not support LACP, setting this option
to \fBtrue\fR allows openvswitch to fallback to
active-backup\fR. If the option is set to \fBfalse\fR, the
bond will be disabled\fR. In both the cases, once the partner switch
is configured to LACP mode, the bond will use LACP\fR.
.ST "Rebalancing Configuration:"
These settings control behavior when a bond is in
\fBbalance\-slb\fR or \fBbalance\-tcp\fR mode\fR.
.IP "\fBother_config : bond-rebalance-interval\fR: optional string, containing an integer, in range 0 to 10,000"
For a load balanced bonded port, the number of milliseconds between
successive attempts to rebalance the bond, that is, to move flows
from one interface on the bond to another in an attempt to keep usage
of each interface roughly equal\fR.  If zero, load balancing is disabled
on the bond (link failure still cause flows to move)\fR.  If
less than 1000ms, the rebalance interval will be 1000ms\fR.
.IP "\fBbond_fake_iface\fR: boolean"
For a bonded port, whether to create a fake internal interface with the
name of the port\fR.  Use only for compatibility with legacy software that
requires this\fR.
.ST "Spanning Tree Protocol:"
The configuration here is only meaningful, and the status is only
populated, when 802\fR.1D\-1998 Spanning Tree Protocol is enabled on the
port\(cqs \fBBridge\fR with its \fBstp_enable\fR
column\fR.
.ST "STP Configuration:"
.IP "\fBother_config : stp-enable\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When STP is enabled on a bridge, it is enabled by default on all of
the bridge\(cqs ports except bond, internal, and mirror ports (which do
not work with STP)\fR.  If this column\(cqs value is \fBfalse\fR,
STP is disabled on the port\fR.
.IP "\fBother_config : stp-port-num\fR: optional string, containing an integer, in range 1 to 255"
The port number used for the lower 8 bits of the port-id\fR.  By
default, the numbers will be assigned automatically\fR.  If any
port\(cqs number is manually configured on a bridge, then they
must all be\fR.
.IP "\fBother_config : stp-port-priority\fR: optional string, containing an integer, in range 0 to 255"
The port\(cqs relative priority value for determining the root
port (the upper 8 bits of the port-id)\fR.  A port with a lower
port-id will be chosen as the root port\fR.  By default, the
priority is 0x80\fR.
.IP "\fBother_config : stp-path-cost\fR: optional string, containing an integer, in range 0 to 65,535"
Spanning tree path cost for the port\fR.  A lower number indicates
a faster link\fR.  By default, the cost is based on the maximum
speed of the link\fR.
.ST "STP Status:"
.IP "\fBstatus : stp_port_id\fR: optional string"
The port ID used in spanning tree advertisements for this port, as 4
hex digits\fR.  Configuring the port ID is described in the
\fBstp\-port\-num\fR and \fBstp\-port\-priority\fR keys of
the \fBother_config\fR section earlier\fR.
.IP "\fBstatus : stp_state\fR: optional string, one of \fBdisabled\fR, \fBforwarding\fR, \fBlearning\fR, \fBlistening\fR, or \fBblocking\fR"
STP state of the port\fR.
.IP "\fBstatus : stp_sec_in_state\fR: optional string, containing an integer, at least 0"
The amount of time this port has been in the current STP state, in
seconds\fR.
.IP "\fBstatus : stp_role\fR: optional string, one of \fBdesignated\fR, \fBalternate\fR, or \fBroot\fR"
STP role of the port\fR.
.ST "Rapid Spanning Tree Protocol:"
The configuration here is only meaningful, and the status and
statistics are only populated, when 802\fR.1D\-1998 Spanning Tree Protocol
is enabled on the port\(cqs \fBBridge\fR with its \fBstp_enable\fR column\fR.
.ST "RSTP Configuration:"
.IP "\fBother_config : rstp-enable\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When RSTP is enabled on a bridge, it is enabled by default on all of
the bridge\(cqs ports except bond, internal, and mirror ports (which do
not work with RSTP)\fR.  If this column\(cqs value is \fBfalse\fR,
RSTP is disabled on the port\fR.
.IP "\fBother_config : rstp-port-priority\fR: optional string, containing an integer, in range 0 to 240"
The port\(cqs relative priority value for determining the root port, in
multiples of 16\fR.  By default, the port priority is 0x80 (128)\fR.  Any
value in the lower 4 bits is rounded off\fR.  The significant upper 4
bits become the upper 4 bits of the port-id\fR.  A port with the lowest
port-id is elected as the root\fR.
.IP "\fBother_config : rstp-port-num\fR: optional string, containing an integer, in range 1 to 4,095"
The local RSTP port number, used as the lower 12 bits of the port-id\fR.
By default the port numbers are assigned automatically, and typically
may not correspond to the OpenFlow port numbers\fR.  A port with the
lowest port-id is elected as the root\fR.
.IP "\fBother_config : rstp-port-path-cost\fR: optional string, containing an integer"
The port path cost\fR.  The Port\(cqs contribution, when it is
the Root Port, to the Root Path Cost for the Bridge\fR.  By default the
cost is automatically calculated from the port\(cqs speed\fR.
.IP "\fBother_config : rstp-port-admin-edge\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
The admin edge port parameter for the Port\fR.  Default is
\fBfalse\fR\fR.
.IP "\fBother_config : rstp-port-auto-edge\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
The auto edge port parameter for the Port\fR.  Default is
\fBtrue\fR\fR.
.IP "\fBother_config : rstp-port-mcheck\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
The mcheck port parameter for the Port\fR.  Default is
\fBfalse\fR\fR.  May be set to force the Port Protocol
Migration state machine to transmit RST BPDUs for a
MigrateTime period, to test whether all STP Bridges on the
attached LAN have been removed and the Port can continue to
transmit RSTP BPDUs\fR.  Setting mcheck has no effect if the
Bridge is operating in STP Compatibility mode\fR.
.IP
Changing the value from \fBtrue\fR to
\fBfalse\fR has no effect, but needs to be done if
this behavior is to be triggered again by subsequently
changing the value from \fBfalse\fR to
\fBtrue\fR\fR.
.ST "RSTP Status:"
.IP "\fBrstp_status : rstp_port_id\fR: optional string"
The port ID used in spanning tree advertisements for this port, as 4
hex digits\fR.  Configuring the port ID is described in the
\fBrstp\-port\-num\fR and \fBrstp\-port\-priority\fR keys
of the \fBother_config\fR section earlier\fR.
.IP "\fBrstp_status : rstp_port_role\fR: optional string, one of \fBBackup\fR, \fBDesignated\fR, \fBAlternate\fR, \fBRoot\fR, or \fBDisabled\fR"
RSTP role of the port\fR.
.IP "\fBrstp_status : rstp_port_state\fR: optional string, one of \fBDisabled\fR, \fBDiscarding\fR, \fBForwarding\fR, or \fBLearning\fR"
RSTP state of the port\fR.
.IP "\fBrstp_status : rstp_designated_bridge_id\fR: optional string"
The port\(cqs RSTP designated bridge ID, in the same form as \fBrstp_status:rstp_bridge_id\fR in the \fBBridge\fR table\fR.
.IP "\fBrstp_status : rstp_designated_port_id\fR: optional string"
The port\(cqs RSTP designated port ID, as 4 hex digits\fR.
.IP "\fBrstp_status : rstp_designated_path_cost\fR: optional string, containing an integer"
The port\(cqs RSTP designated path cost\fR.  Lower is better\fR.
.ST "RSTP Statistics:"
.IP "\fBrstp_statistics : rstp_tx_count\fR: optional integer"
Number of RSTP BPDUs transmitted through this port\fR.
.IP "\fBrstp_statistics : rstp_rx_count\fR: optional integer"
Number of valid RSTP BPDUs received by this port\fR.
.IP "\fBrstp_statistics : rstp_error_count\fR: optional integer"
Number of invalid RSTP BPDUs received by this port\fR.
.IP "\fBrstp_statistics : rstp_uptime\fR: optional integer"
The duration covered by the other RSTP statistics, in seconds\fR.
.ST "Multicast Snooping:"
.IP "\fBother_config : mcast-snooping-flood\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
If set to \fBtrue\fR, multicast packets (except Reports) are
unconditionally forwarded to the specific port\fR.
.IP "\fBother_config : mcast-snooping-flood-reports\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
If set to \fBtrue\fR, multicast Reports are unconditionally
forwarded to the specific port\fR.
.ST "Other Features:"
.IP "\fBqos\fR: optional \fBQoS\fR"
Quality of Service configuration for this port\fR.
.IP "\fBmac\fR: optional string"
The MAC address to use for this port for the purpose of choosing the
bridge\(cqs MAC address\fR.  This column does not necessarily reflect the
port\(cqs actual MAC address, nor will setting it change the port\(cqs actual
MAC address\fR.
.IP "\fBfake_bridge\fR: boolean"
Does this port represent a sub-bridge for its tagged VLAN within the
Bridge?  See ovs-vsctl(8) for more information\fR.
.IP "\fBexternal_ids : fake-bridge-id-*\fR: optional string"
External IDs for a fake bridge (see the \fBfake_bridge\fR
column) are defined by prefixing a \fBBridge\fR \fBexternal_ids\fR key with
\fBfake\-bridge\-\fR,
e\fR.g\fR. \fBfake\-bridge\-xs\-network\-uuids\fR\fR.
.IP "\fBbond_active_slave\fR: optional string"
For a bonded port, record the mac address of the current active slave\fR.
.ST "Port Statistics:"
Key-value pairs that report port statistics\fR.  The update period
is controlled by \fBother_config:stats-update-interval\fR in the \fBOpen_vSwitch\fR table\fR.
.ST "Statistics: STP transmit and receive counters:"
.IP "\fBstatistics : stp_tx_count\fR: optional integer"
Number of STP BPDUs sent on this port by the spanning
tree library\fR.
.IP "\fBstatistics : stp_rx_count\fR: optional integer"
Number of STP BPDUs received on this port and accepted by the
spanning tree library\fR.
.IP "\fBstatistics : stp_error_count\fR: optional integer"
Number of bad STP BPDUs received on this port\fR.  Bad BPDUs
include runt packets and those with an unexpected protocol ID\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Interface TABLE"
An interface within a \fBPort\fR\fR.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBname\fR
immutable string (must be unique within table)
.TQ 2.75in
\fBifindex\fR
optional integer, in range 0 to 4,294,967,295
.TQ 2.75in
\fBmac_in_use\fR
optional string
.TQ 2.75in
\fBmac\fR
optional string
.TQ 2.75in
\fBerror\fR
optional string
.TQ .25in
\fIOpenFlow Port Number:\fR
.RS .25in
.TQ 2.50in
\fBofport\fR
optional integer
.TQ 2.50in
\fBofport_request\fR
optional integer, in range 1 to 65,279
.RE
.RE
.TQ .25in
\fISystem-Specific Details:\fR
.RS .25in
.TQ 2.75in
\fBtype\fR
string
.RE
.TQ .25in
\fITunnel Options:\fR
.RS .25in
.TQ 2.75in
\fBoptions : remote_ip\fR
optional string
.TQ 2.75in
\fBoptions : local_ip\fR
optional string
.TQ 2.75in
\fBoptions : in_key\fR
optional string
.TQ 2.75in
\fBoptions : out_key\fR
optional string
.TQ 2.75in
\fBoptions : key\fR
optional string
.TQ 2.75in
\fBoptions : tos\fR
optional string
.TQ 2.75in
\fBoptions : ttl\fR
optional string
.TQ 2.75in
\fBoptions : df_default\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ .25in
\fITunnel Options: vxlan only:\fR
.RS .25in
.TQ 2.50in
\fBoptions : exts\fR
optional string
.RE
.TQ .25in
\fITunnel Options: gre, ipsec_gre, geneve, and vxlan:\fR
.RS .25in
.TQ 2.50in
\fBoptions : csum\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fITunnel Options: ipsec_gre only:\fR
.RS .25in
.TQ 2.50in
\fBoptions : peer_cert\fR
optional string
.TQ 2.50in
\fBoptions : certificate\fR
optional string
.TQ 2.50in
\fBoptions : private_key\fR
optional string
.TQ 2.50in
\fBoptions : psk\fR
optional string
.RE
.RE
.TQ .25in
\fIPatch Options:\fR
.RS .25in
.TQ 2.75in
\fBoptions : peer\fR
optional string
.RE
.TQ .25in
\fIInterface Status:\fR
.RS .25in
.TQ 2.75in
\fBadmin_state\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBlink_state\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBlink_resets\fR
optional integer
.TQ 2.75in
\fBlink_speed\fR
optional integer
.TQ 2.75in
\fBduplex\fR
optional string, either \fBfull\fR or \fBhalf\fR
.TQ 2.75in
\fBmtu\fR
optional integer
.TQ 2.75in
\fBlacp_current\fR
optional boolean
.TQ 2.75in
\fBstatus\fR
map of string-string pairs
.TQ 2.75in
\fBstatus : driver_name\fR
optional string
.TQ 2.75in
\fBstatus : driver_version\fR
optional string
.TQ 2.75in
\fBstatus : firmware_version\fR
optional string
.TQ 2.75in
\fBstatus : source_ip\fR
optional string
.TQ 2.75in
\fBstatus : tunnel_egress_iface\fR
optional string
.TQ 2.75in
\fBstatus : tunnel_egress_iface_carrier\fR
optional string, either \fBdown\fR or \fBup\fR
.RE
.TQ .25in
\fIStatistics:\fR
.RS .25in
.TQ .25in
\fIStatistics: Successful transmit and receive counters:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : rx_packets\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_bytes\fR
optional integer
.TQ 2.50in
\fBstatistics : tx_packets\fR
optional integer
.TQ 2.50in
\fBstatistics : tx_bytes\fR
optional integer
.RE
.TQ .25in
\fIStatistics: Receive errors:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : rx_dropped\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_frame_err\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_over_err\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_crc_err\fR
optional integer
.TQ 2.50in
\fBstatistics : rx_errors\fR
optional integer
.RE
.TQ .25in
\fIStatistics: Transmit errors:\fR
.RS .25in
.TQ 2.50in
\fBstatistics : tx_dropped\fR
optional integer
.TQ 2.50in
\fBstatistics : collisions\fR
optional integer
.TQ 2.50in
\fBstatistics : tx_errors\fR
optional integer
.RE
.RE
.TQ .25in
\fIIngress Policing:\fR
.RS .25in
.TQ 2.75in
\fBingress_policing_rate\fR
integer, at least 0
.TQ 2.75in
\fBingress_policing_burst\fR
integer, at least 0
.RE
.TQ .25in
\fIBidirectional Forwarding Detection (BFD):\fR
.RS .25in
.TQ .25in
\fIBFD Configuration:\fR
.RS .25in
.TQ 2.50in
\fBbfd : enable\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBbfd : min_rx\fR
optional string, containing an integer, at least 1
.TQ 2.50in
\fBbfd : min_tx\fR
optional string, containing an integer, at least 1
.TQ 2.50in
\fBbfd : decay_min_rx\fR
optional string, containing an integer
.TQ 2.50in
\fBbfd : forwarding_if_rx\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBbfd : cpath_down\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBbfd : check_tnl_key\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBbfd : bfd_local_src_mac\fR
optional string
.TQ 2.50in
\fBbfd : bfd_local_dst_mac\fR
optional string
.TQ 2.50in
\fBbfd : bfd_remote_dst_mac\fR
optional string
.TQ 2.50in
\fBbfd : bfd_src_ip\fR
optional string
.TQ 2.50in
\fBbfd : bfd_dst_ip\fR
optional string
.RE
.TQ .25in
\fIBFD Status:\fR
.RS .25in
.TQ 2.50in
\fBbfd_status : state\fR
optional string, one of \fBdown\fR, \fBinit\fR, \fBup\fR, or \fBadmin_down\fR
.TQ 2.50in
\fBbfd_status : forwarding\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.50in
\fBbfd_status : diagnostic\fR
optional string
.TQ 2.50in
\fBbfd_status : remote_state\fR
optional string, one of \fBdown\fR, \fBinit\fR, \fBup\fR, or \fBadmin_down\fR
.TQ 2.50in
\fBbfd_status : remote_diagnostic\fR
optional string
.TQ 2.50in
\fBbfd_status : flap_count\fR
optional string, containing an integer, at least 0
.RE
.RE
.TQ .25in
\fIConnectivity Fault Management:\fR
.RS .25in
.TQ 2.75in
\fBcfm_mpid\fR
optional integer
.TQ 2.75in
\fBcfm_flap_count\fR
optional integer
.TQ 2.75in
\fBcfm_fault\fR
optional boolean
.TQ 2.75in
\fBcfm_fault_status : recv\fR
none
.TQ 2.75in
\fBcfm_fault_status : rdi\fR
none
.TQ 2.75in
\fBcfm_fault_status : maid\fR
none
.TQ 2.75in
\fBcfm_fault_status : loopback\fR
none
.TQ 2.75in
\fBcfm_fault_status : overflow\fR
none
.TQ 2.75in
\fBcfm_fault_status : override\fR
none
.TQ 2.75in
\fBcfm_fault_status : interval\fR
none
.TQ 2.75in
\fBcfm_remote_opstate\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBcfm_health\fR
optional integer, in range 0 to 100
.TQ 2.75in
\fBcfm_remote_mpids\fR
set of integers
.TQ 2.75in
\fBother_config : cfm_interval\fR
optional string, containing an integer
.TQ 2.75in
\fBother_config : cfm_extended\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : cfm_demand\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : cfm_opstate\fR
optional string, either \fBdown\fR or \fBup\fR
.TQ 2.75in
\fBother_config : cfm_ccm_vlan\fR
optional string, containing an integer, in range 1 to 4,095
.TQ 2.75in
\fBother_config : cfm_ccm_pcp\fR
optional string, containing an integer, in range 1 to 7
.RE
.TQ .25in
\fIBonding Configuration:\fR
.RS .25in
.TQ 2.75in
\fBother_config : lacp-port-id\fR
optional string, containing an integer, in range 1 to 65,535
.TQ 2.75in
\fBother_config : lacp-port-priority\fR
optional string, containing an integer, in range 1 to 65,535
.TQ 2.75in
\fBother_config : lacp-aggregation-key\fR
optional string, containing an integer, in range 1 to 65,535
.RE
.TQ .25in
\fIVirtual Machine Identifiers:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids : attached-mac\fR
optional string
.TQ 2.75in
\fBexternal_ids : iface-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : iface-status\fR
optional string, either \fBactive\fR or \fBinactive\fR
.TQ 2.75in
\fBexternal_ids : xs-vif-uuid\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-network-uuid\fR
optional string
.TQ 2.75in
\fBexternal_ids : vm-id\fR
optional string
.TQ 2.75in
\fBexternal_ids : xs-vm-uuid\fR
optional string
.RE
.TQ .25in
\fIVLAN Splinters:\fR
.RS .25in
.TQ 2.75in
\fBother_config : enable-vlan-splinters\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fIAuto Attach Configuration:\fR
.RS .25in
.TQ 2.75in
\fBlldp : enable\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBname\fR: immutable string (must be unique within table)"
Interface name\fR.  Should be alphanumeric and no more than about 8 bytes
long\fR.  May be the same as the port name, for non-bonded ports\fR.  Must
otherwise be unique among the names of ports, interfaces, and bridges
on a host\fR.
.IP "\fBifindex\fR: optional integer, in range 0 to 4,294,967,295"
A positive interface index as defined for SNMP MIB-II in RFCs 1213 and
2863, if the interface has one, otherwise 0\fR.  The ifindex is useful for
seamless integration with protocols such as SNMP and sFlow\fR.
.IP "\fBmac_in_use\fR: optional string"
The MAC address in use by this interface\fR.
.IP "\fBmac\fR: optional string"
Ethernet address to set for this interface\fR.  If unset then the
default MAC address is used:
.RS
.IP \(bu
For the local interface, the default is the lowest-numbered MAC
address among the other bridge ports, either the value of the
\fBmac\fR in its \fBPort\fR record,
if set, or its actual MAC (for bonded ports, the MAC of its slave
whose name is first in alphabetical order)\fR.  Internal ports and
bridge ports that are used as port mirroring destinations (see the
\fBMirror\fR table) are ignored\fR.
.IP \(bu
For other internal interfaces, the default MAC is randomly
generated\fR.
.IP \(bu
External interfaces typically have a MAC address associated with
their hardware\fR.
.RE
.IP
Some interfaces may not have a software-controllable MAC
address\fR.
.IP "\fBerror\fR: optional string"
If the configuration of the port failed, as indicated by \-1 in \fBofport\fR, Open vSwitch sets this column to an error
description in human readable form\fR.  Otherwise, Open vSwitch clears
this column\fR.
.ST "OpenFlow Port Number:"
When a client adds a new interface, Open vSwitch chooses an OpenFlow
port number for the new port\fR.  If the client that adds the port fills
in \fBofport_request\fR, then Open vSwitch tries to use its
value as the OpenFlow port number\fR.  Otherwise, or if the requested
port number is already in use or cannot be used for another reason,
Open vSwitch automatically assigns a free port number\fR.  Regardless of
how the port number was obtained, Open vSwitch then reports in \fBofport\fR the port number actually assigned\fR.
.PP
Open vSwitch limits the port numbers that it automatically assigns to
the range 1 through 32,767, inclusive\fR.  Controllers therefore have
free use of ports 32,768 and up\fR.
.IP "\fBofport\fR: optional integer"
OpenFlow port number for this interface\fR.  Open vSwitch sets this
column\(cqs value, so other clients should treat it as read-only\fR.
.IP
The OpenFlow ``local\(cq\(cq port (\fBOFPP_LOCAL\fR) is 65,534\fR.
The other valid port numbers are in the range 1 to 65,279,
inclusive\fR.  Value \-1 indicates an error adding the interface\fR.
.IP "\fBofport_request\fR: optional integer, in range 1 to 65,279"
Requested OpenFlow port number for this interface\fR.
.IP
A client should ideally set this column\(cqs value in the same
database transaction that it uses to create the interface\fR.  Open
vSwitch version 2\fR.1 and later will honor a later request for a
specific port number, althuogh it might confuse some controllers:
OpenFlow does not have a way to announce a port number change, so
Open vSwitch represents it over OpenFlow as a port deletion
followed immediately by a port addition\fR.
.IP
If \fBofport_request\fR is set or changed to some other
port\(cqs automatically assigned port number, Open vSwitch chooses a
new port number for the latter port\fR.
.ST "System-Specific Details:"
.IP "\fBtype\fR: string"
The interface type\fR.  The types supported by a particular instance of
Open vSwitch are listed in the \fBiface_types\fR column in the \fBOpen_vSwitch\fR
table\fR.  The following types are defined:
.RS
.TP
\fBsystem\fR
An ordinary network device, e\fR.g\fR. \fBeth0\fR on Linux\fR.
Sometimes referred to as ``external interfaces\(cq\(cq since they are
generally connected to hardware external to that on which the Open
vSwitch is running\fR.  The empty string is a synonym for
\fBsystem\fR\fR.
.TP
\fBinternal\fR
A simulated network device that sends and receives traffic\fR.  An
internal interface whose \fBname\fR is the same as its
bridge\(cqs \fBname\fR is called the
``local interface\fR.\(cq\(cq  It does not make sense to bond an internal
interface, so the terms ``port\(cq\(cq and ``interface\(cq\(cq are often used
imprecisely for internal interfaces\fR.
.TP
\fBtap\fR
A TUN/TAP device managed by Open vSwitch\fR.
.TP
\fBgeneve\fR
An Ethernet over Geneve (\fBhttp://tools\fB.ietf\fB.org/html/draft\-gross\-geneve\-00\fR)
IPv4 tunnel\fR.
Geneve supports options as a means to transport additional metadata,
however, currently only the 24-bit VNI is supported\fR. This is planned
to be extended in the future\fR.
.TP
\fBgre\fR
An Ethernet over RFC 2890 Generic Routing Encapsulation over IPv4
tunnel\fR.
.TP
\fBipsec_gre\fR
An Ethernet over RFC 2890 Generic Routing Encapsulation over IPv4
IPsec tunnel\fR.
.TP
\fBgre64\fR
GRE64 tunnel protocol is deprecated and will be removed from OVS
v2\fR.5 release\fR.
It is same as GRE, but it allows 64 bit key\fR. To store higher 32-bits
of key, it uses GRE protocol sequence number field\fR. This is non
standard use of GRE protocol since OVS does not increment
sequence number for every packet at time of encap as expected by
standard GRE implementation\fR. See \fBTunnel Options\fR
for information on configuring GRE tunnels\fR.
.TP
\fBipsec_gre64\fR
GRE64 tunnel protocol is deprecated and will be removed from OVS
v2\fR.5 release\fR.
Same as IPSEC_GRE except 64 bit key\fR.
.TP
\fBvxlan\fR
An Ethernet tunnel over the UDP-based VXLAN protocol described in
RFC 7348\fR.
.IP
Open vSwitch uses UDP destination port 4789\fR.  The source port used for
VXLAN traffic varies on a per-flow basis and is in the ephemeral port
range\fR.
.TP
\fBlisp\fR
A layer 3 tunnel over the experimental, UDP-based Locator/ID
Separation Protocol (RFC 6830)\fR.
.IP
Only IPv4 and IPv6 packets are supported by the protocol, and
they are sent and received without an Ethernet header\fR.  Traffic
to/from LISP ports is expected to be configured explicitly, and
the ports are not intended to participate in learning based
switching\fR.  As such, they are always excluded from packet
flooding\fR.
.TP
\fBstt\fR
The Stateless TCP Tunnel (STT) is particularly useful when tunnel
endpoints are in end-systems, as it utilizes the capabilities of
standard network interface cards to improve performance\fR.  STT utilizes
a TCP-like header inside the IP header\fR. It is stateless, i\fR.e\fR., there is
no TCP connection state of any kind associated with the tunnel\fR.  The
TCP-like header is used to leverage the capabilities of existing
network interface cards, but should not be interpreted as implying
any sort of connection state between endpoints\fR.
Since the STT protocol does not engage in the usual TCP 3-way handshake,
so it will have difficulty traversing stateful firewalls\fR.
The protocol is documented at
http://www\fR.ietf\fR.org/archive/id/draft-davie-stt\-06\fR.txt
All traffic uses a default destination port of 7471\fR. STT is only
available in kernel datapath on kernel 3\fR.5 or newer\fR.
.TP
\fBpatch\fR
A pair of virtual devices that act as a patch cable\fR.
.TP
\fBnull\fR
An ignored interface\fR. Deprecated and slated for removal in
February 2013\fR.
.RE
.ST "Tunnel Options:"
These options apply to interfaces with \fBtype\fR of
\fBgeneve\fR, \fBgre\fR, \fBipsec_gre\fR,
\fBgre64\fR, \fBipsec_gre64\fR, \fBvxlan\fR,
\fBlisp\fR and \fBstt\fR\fR.
.PP
Each tunnel must be uniquely identified by the combination of \fBtype\fR, \fBoptions:remote_ip\fR, \fBoptions:local_ip\fR, and \fBoptions:in_key\fR\fR.  If two ports are defined that are the same except one
has an optional identifier and the other does not, the more specific
one is matched first\fR.  \fBoptions:in_key\fR is
considered more specific than \fBoptions:local_ip\fR if
a port defines one and another port defines the other\fR.
.IP "\fBoptions : remote_ip\fR: optional string"
Required\fR.  The remote tunnel endpoint, one of:
.RS
.IP \(bu
An IPv4 address (not a DNS name), e\fR.g\fR. \fB192\fB.168\fB.0\fB.123\fR\fR.
Only unicast endpoints are supported\fR.
.IP \(bu
The word \fBflow\fR\fR.  The tunnel accepts packets from any
remote tunnel endpoint\fR.  To process only packets from a specific
remote tunnel endpoint, the flow entries may match on the
\fBtun_src\fR field\fR.  When sending packets to a
\fBremote_ip=flow\fR tunnel, the flow actions must
explicitly set the \fBtun_dst\fR field to the IP address of
the desired remote tunnel endpoint, e\fR.g\fR. with a
\fBset_field\fR action\fR.
.RE
.IP
The remote tunnel endpoint for any packet received from a tunnel
is available in the \fBtun_src\fR field for matching in the
flow table\fR.
.IP "\fBoptions : local_ip\fR: optional string"
Optional\fR.  The tunnel destination IP that received packets must
match\fR.  Default is to match all addresses\fR.  If specified, may be one
of:
.RS
.IP \(bu
An IPv4 address (not a DNS name), e\fR.g\fR. \fB192\fB.168\fB.12\fB.3\fR\fR.
.IP \(bu
The word \fBflow\fR\fR.  The tunnel accepts packets sent to any
of the local IP addresses of the system running OVS\fR.  To process
only packets sent to a specific IP address, the flow entries may
match on the \fBtun_dst\fR field\fR.  When sending packets to a
\fBlocal_ip=flow\fR tunnel, the flow actions may
explicitly set the \fBtun_src\fR field to the desired IP
address, e\fR.g\fR. with a \fBset_field\fR action\fR.  However, while
routing the tunneled packet out, the local system may override the
specified address with the local IP address configured for the
outgoing system interface\fR.
.IP
This option is valid only for tunnels also configured with the
\fBremote_ip=flow\fR option\fR.
.RE
.IP
The tunnel destination IP address for any packet received from a
tunnel is available in the \fBtun_dst\fR field for matching in
the flow table\fR.
.IP "\fBoptions : in_key\fR: optional string"
Optional\fR.  The key that received packets must contain, one of:
.RS
.IP \(bu
\fB0\fR\fR.  The tunnel receives packets with no key or with a
key of 0\fR.  This is equivalent to specifying no \fBoptions:in_key\fR at all\fR.
.IP \(bu
A positive 24-bit (for Geneve, VXLAN, and LISP), 32-bit (for GRE)
or 64-bit (for GRE64 and STT) number\fR.  The tunnel receives only
packets with the specified key\fR.
.IP \(bu
The word \fBflow\fR\fR.  The tunnel accepts packets with any
key\fR.  The key will be placed in the \fBtun_id\fR field for
matching in the flow table\fR.  The \fBovs\-ofctl\fR manual page
contains additional information about matching fields in OpenFlow
flows\fR.
.RE
.IP
.IP "\fBoptions : out_key\fR: optional string"
Optional\fR.  The key to be set on outgoing packets, one of:
.RS
.IP \(bu
\fB0\fR\fR.  Packets sent through the tunnel will have no key\fR.
This is equivalent to specifying no \fBoptions:out_key\fR at all\fR.
.IP \(bu
A positive 24-bit (for Geneve, VXLAN and LISP), 32-bit (for GRE) or
64-bit (for GRE64 and STT) number\fR.  Packets sent through the tunnel
will have the specified key\fR.
.IP \(bu
The word \fBflow\fR\fR.  Packets sent through the tunnel will
have the key set using the \fBset_tunnel\fR Nicira OpenFlow
vendor extension (0 is used in the absence of an action)\fR.  The
\fBovs\-ofctl\fR manual page contains additional information
about the Nicira OpenFlow vendor extensions\fR.
.RE
.IP "\fBoptions : key\fR: optional string"
Optional\fR.  Shorthand to set \fBin_key\fR and
\fBout_key\fR at the same time\fR.
.IP "\fBoptions : tos\fR: optional string"
Optional\fR.  The value of the ToS bits to be set on the encapsulating
packet\fR.  ToS is interpreted as DSCP and ECN bits, ECN part must be
zero\fR.  It may also be the word \fBinherit\fR, in which case
the ToS will be copied from the inner packet if it is IPv4 or IPv6
(otherwise it will be 0)\fR.  The ECN fields are always inherited\fR.
Default is 0\fR.
.IP "\fBoptions : ttl\fR: optional string"
Optional\fR.  The TTL to be set on the encapsulating packet\fR.  It may also
be the word \fBinherit\fR, in which case the TTL will be copied
from the inner packet if it is IPv4 or IPv6 (otherwise it will be the
system default, typically 64)\fR.  Default is the system default TTL\fR.
.IP "\fBoptions : df_default\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Optional\fR.  If enabled, the Don\(cqt Fragment bit will be set on tunnel
outer headers to allow path MTU discovery\fR. Default is enabled; set
to \fBfalse\fR to disable\fR.
.ST "Tunnel Options: vxlan only:"
.IP "\fBoptions : exts\fR: optional string"
Optional\fR.  Comma separated list of optional VXLAN extensions to
enable\fR. The following extensions are supported:
.RS
.IP \(bu
\fBgbp\fR: VXLAN-GBP allows to transport the group policy
context of a packet across the VXLAN tunnel to other network
peers\fR. See the field description of \fBtun_gbp_id\fR and
\fBtun_gbp_flags\fR in ovs-ofctl(8) for additional
information\fR.
(\fBhttps://tools\fB.ietf\fB.org/html/draft\-smith\-vxlan\-group\-policy\fR)
.RE
.ST "Tunnel Options: gre, ipsec_gre, geneve, and vxlan:"
\fBgre\fR, \fBipsec_gre\fR, \fBgeneve\fR, and
\fBvxlan\fR interfaces support these options\fR.
.IP "\fBoptions : csum\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Optional\fR.  Compute encapsulation header (either GRE or UDP)
checksums on outgoing packets\fR.  Default is disabled, set to
\fBtrue\fR to enable\fR.  Checksums present on incoming
packets will be validated regardless of this setting\fR.
.IP
When using the upstream Linux kernel module, computation of
checksums for \fBgeneve\fR and \fBvxlan\fR requires
Linux kernel version 4\fR.0 or higher\fR. \fBgre\fR supports
checksums for all versions of Open vSwitch that support GRE\fR.
The out of tree kernel module distributed as part of OVS
can compute all tunnel checksums on any kernel version that it
is compatible with\fR.
.IP
This option is supported for \fBipsec_gre\fR, but not useful
because GRE checksums are weaker than, and redundant with, IPsec
payload authentication\fR.
.ST "Tunnel Options: ipsec_gre only:"
Only \fBipsec_gre\fR interfaces support these options\fR.
.IP "\fBoptions : peer_cert\fR: optional string"
Required for certificate authentication\fR.  A string containing the
peer\(cqs certificate in PEM format\fR.  Additionally the host\(cqs
certificate must be specified with the \fBcertificate\fR
option\fR.
.IP "\fBoptions : certificate\fR: optional string"
Required for certificate authentication\fR.  The name of a PEM file
containing a certificate that will be presented to the peer during
authentication\fR.
.IP "\fBoptions : private_key\fR: optional string"
Optional for certificate authentication\fR.  The name of a PEM file
containing the private key associated with \fBcertificate\fR\fR.
If \fBcertificate\fR contains the private key, this option may
be omitted\fR.
.IP "\fBoptions : psk\fR: optional string"
Required for pre-shared key authentication\fR.  Specifies a pre-shared
key for authentication that must be identical on both sides of the
tunnel\fR.
.ST "Patch Options:"
Only \fBpatch\fR interfaces support these options\fR.
.IP "\fBoptions : peer\fR: optional string"
The \fBname\fR of the \fBInterface\fR for the other
side of the patch\fR.  The named \fBInterface\fR\(cqs own
\fBpeer\fR option must specify this \fBInterface\fR\(cqs
name\fR.  That is, the two patch interfaces must have reversed \fBname\fR and \fBpeer\fR values\fR.
.ST "Interface Status:"
Status information about interfaces attached to bridges, updated every
5 seconds\fR.  Not all interfaces have all of these properties; virtual
interfaces don\(cqt have a link speed, for example\fR.  Non-applicable
columns will have empty values\fR.
.IP "\fBadmin_state\fR: optional string, either \fBdown\fR or \fBup\fR"
The administrative state of the physical network link\fR.
.IP "\fBlink_state\fR: optional string, either \fBdown\fR or \fBup\fR"
The observed state of the physical network link\fR.  This is ordinarily
the link\(cqs carrier status\fR.  If the interface\(cqs \fBPort\fR is
a bond configured for miimon monitoring, it is instead the network
link\(cqs miimon status\fR.
.IP "\fBlink_resets\fR: optional integer"
The number of times Open vSwitch has observed the
\fBlink_state\fR of this \fBInterface\fR change\fR.
.IP "\fBlink_speed\fR: optional integer"
The negotiated speed of the physical network link\fR.
Valid values are positive integers greater than 0\fR.
.IP "\fBduplex\fR: optional string, either \fBfull\fR or \fBhalf\fR"
The duplex mode of the physical network link\fR.
.IP "\fBmtu\fR: optional integer"
The MTU (maximum transmission unit); i\fR.e\fR. the largest
amount of data that can fit into a single Ethernet frame\fR.
The standard Ethernet MTU is 1500 bytes\fR.  Some physical media
and many kinds of virtual interfaces can be configured with
higher MTUs\fR.
.IP
This column will be empty for an interface that does not
have an MTU as, for example, some kinds of tunnels do not\fR.
.IP "\fBlacp_current\fR: optional boolean"
Boolean value indicating LACP status for this interface\fR.  If true, this
interface has current LACP information about its LACP partner\fR.  This
information may be used to monitor the health of interfaces in a LACP
enabled port\fR.  This column will be empty if LACP is not enabled\fR.
.IP "\fBstatus\fR: map of string-string pairs"
Key-value pairs that report port status\fR.  Supported status values are
\fBtype\fR-dependent; some interfaces may not have a valid
\fBstatus:driver_name\fR, for example\fR.
.IP "\fBstatus : driver_name\fR: optional string"
The name of the device driver controlling the network adapter\fR.
.IP "\fBstatus : driver_version\fR: optional string"
The version string of the device driver controlling the network
adapter\fR.
.IP "\fBstatus : firmware_version\fR: optional string"
The version string of the network adapter\(cqs firmware, if available\fR.
.IP "\fBstatus : source_ip\fR: optional string"
The source IP address used for an IPv4 tunnel end-point, such as
\fBgre\fR\fR.
.IP "\fBstatus : tunnel_egress_iface\fR: optional string"
Egress interface for tunnels\fR.  Currently only relevant for tunnels
on Linux systems, this column will show the name of the interface
which is responsible for routing traffic destined for the configured
\fBoptions:remote_ip\fR\fR.  This could be an internal
interface such as a bridge port\fR.
.IP "\fBstatus : tunnel_egress_iface_carrier\fR: optional string, either \fBdown\fR or \fBup\fR"
Whether carrier is detected on \fBstatus:tunnel_egress_iface\fR\fR.
.ST "Statistics:"
Key-value pairs that report interface statistics\fR.  The current
implementation updates these counters periodically\fR.  The update period
is controlled by \fBother_config:stats-update-interval\fR in the \fBOpen_vSwitch\fR table\fR.
Future implementations may update them when an interface is created,
when they are queried (e\fR.g\fR. using an OVSDB \fBselect\fR
operation), and just before an interface is deleted due to virtual
interface hot-unplug or VM shutdown, and perhaps at other times, but
not on any regular periodic basis\fR.
.PP
These are the same statistics reported by OpenFlow in its \fBstruct
ofp_port_stats\fR structure\fR.  If an interface does not support a
given statistic, then that pair is omitted\fR.
.ST "Statistics: Successful transmit and receive counters:"
.IP "\fBstatistics : rx_packets\fR: optional integer"
Number of received packets\fR.
.IP "\fBstatistics : rx_bytes\fR: optional integer"
Number of received bytes\fR.
.IP "\fBstatistics : tx_packets\fR: optional integer"
Number of transmitted packets\fR.
.IP "\fBstatistics : tx_bytes\fR: optional integer"
Number of transmitted bytes\fR.
.ST "Statistics: Receive errors:"
.IP "\fBstatistics : rx_dropped\fR: optional integer"
Number of packets dropped by RX\fR.
.IP "\fBstatistics : rx_frame_err\fR: optional integer"
Number of frame alignment errors\fR.
.IP "\fBstatistics : rx_over_err\fR: optional integer"
Number of packets with RX overrun\fR.
.IP "\fBstatistics : rx_crc_err\fR: optional integer"
Number of CRC errors\fR.
.IP "\fBstatistics : rx_errors\fR: optional integer"
Total number of receive errors, greater than or equal to the sum of
the above\fR.
.ST "Statistics: Transmit errors:"
.IP "\fBstatistics : tx_dropped\fR: optional integer"
Number of packets dropped by TX\fR.
.IP "\fBstatistics : collisions\fR: optional integer"
Number of collisions\fR.
.IP "\fBstatistics : tx_errors\fR: optional integer"
Total number of transmit errors, greater than or equal to the sum of
the above\fR.
.ST "Ingress Policing:"
These settings control ingress policing for packets received on this
interface\fR.  On a physical interface, this limits the rate at which
traffic is allowed into the system from the outside; on a virtual
interface (one connected to a virtual machine), this limits the rate at
which the VM is able to transmit\fR.
.PP
Policing is a simple form of quality-of-service that simply drops
packets received in excess of the configured rate\fR.  Due to its
simplicity, policing is usually less accurate and less effective than
egress QoS (which is configured using the \fBQoS\fR and \fBQueue\fR tables)\fR.
.PP
Policing is currently implemented only on Linux\fR.  The Linux
implementation uses a simple ``token bucket\(cq\(cq approach:
.RS
.IP \(bu
The size of the bucket corresponds to \fBingress_policing_burst\fR\fR.  Initially the bucket is full\fR.
.IP \(bu
Whenever a packet is received, its size (converted to tokens) is
compared to the number of tokens currently in the bucket\fR.  If the
required number of tokens are available, they are removed and the
packet is forwarded\fR.  Otherwise, the packet is dropped\fR.
.IP \(bu
Whenever it is not full, the bucket is refilled with tokens at the
rate specified by \fBingress_policing_rate\fR\fR.
.RE
.PP
Policing interacts badly with some network protocols, and especially
with fragmented IP packets\fR.  Suppose that there is enough network
activity to keep the bucket nearly empty all the time\fR.  Then this token
bucket algorithm will forward a single packet every so often, with the
period depending on packet size and on the configured rate\fR.  All of the
fragments of an IP packets are normally transmitted back-to-back, as a
group\fR.  In such a situation, therefore, only one of these fragments
will be forwarded and the rest will be dropped\fR.  IP does not provide
any way for the intended recipient to ask for only the remaining
fragments\fR.  In such a case there are two likely possibilities for what
will happen next: either all of the fragments will eventually be
retransmitted (as TCP will do), in which case the same problem will
recur, or the sender will not realize that its packet has been dropped
and data will simply be lost (as some UDP-based protocols will do)\fR.
Either way, it is possible that no forward progress will ever occur\fR.
.IP "\fBingress_policing_rate\fR: integer, at least 0"
Maximum rate for data received on this interface, in kbps\fR.  Data
received faster than this rate is dropped\fR.  Set to \fB0\fR
(the default) to disable policing\fR.
.IP "\fBingress_policing_burst\fR: integer, at least 0"
Maximum burst size for data received on this interface, in kb\fR.  The
default burst size if set to \fB0\fR is 1000 kb\fR.  This value
has no effect if \fBingress_policing_rate\fR
is \fB0\fR\fR.
.IP
Specifying a larger burst size lets the algorithm be more forgiving,
which is important for protocols like TCP that react severely to
dropped packets\fR.  The burst size should be at least the size of the
interface\(cqs MTU\fR.  Specifying a value that is numerically at least as
large as 10% of \fBingress_policing_rate\fR helps TCP come
closer to achieving the full rate\fR.
.ST "Bidirectional Forwarding Detection (BFD):"
BFD, defined in RFC 5880 and RFC 5881, allows point-to-point
detection of connectivity failures by occasional transmission of
BFD control messages\fR.  Open vSwitch implements BFD to serve
as a more popular and standards compliant alternative to CFM\fR.
.PP
BFD operates by regularly transmitting BFD control messages at a rate
negotiated independently in each direction\fR.  Each endpoint specifies
the rate at which it expects to receive control messages, and the rate
at which it is willing to transmit them\fR.  Open vSwitch uses a detection
multiplier of three, meaning that an endpoint signals a connectivity
fault if three consecutive BFD control messages fail to arrive\fR.  In the
case of a unidirectional connectivity issue, the system not receiving
BFD control messages signals the problem to its peer in the messages it
transmits\fR.
.PP
The Open vSwitch implementation of BFD aims to comply faithfully
with RFC 5880 requirements\fR.  Open vSwitch does not implement the
optional Authentication or ``Echo Mode\(cq\(cq features\fR.
.ST "BFD Configuration:"
A controller sets up key-value pairs in the \fBbfd\fR
column to enable and configure BFD\fR.
.IP "\fBbfd : enable\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
True to enable BFD on this \fBInterface\fR\fR.  If not
specified, BFD will not be enabled by default\fR.
.IP "\fBbfd : min_rx\fR: optional string, containing an integer, at least 1"
The shortest interval, in milliseconds, at which this BFD session
offers to receive BFD control messages\fR.  The remote endpoint may
choose to send messages at a slower rate\fR.  Defaults to
\fB1000\fR\fR.
.IP "\fBbfd : min_tx\fR: optional string, containing an integer, at least 1"
The shortest interval, in milliseconds, at which this BFD session is
willing to transmit BFD control messages\fR.  Messages will actually be
transmitted at a slower rate if the remote endpoint is not willing to
receive as quickly as specified\fR.  Defaults to \fB100\fR\fR.
.IP "\fBbfd : decay_min_rx\fR: optional string, containing an integer"
An alternate receive interval, in milliseconds, that must be greater
than or equal to \fBbfd:min_rx\fR\fR.  The
implementation switches from \fBbfd:min_rx\fR to \fBbfd:decay_min_rx\fR when there is no obvious incoming
data traffic at the interface, to reduce the CPU and bandwidth cost
of monitoring an idle interface\fR.  This feature may be disabled by
setting a value of 0\fR.  This feature is reset whenever \fBbfd:decay_min_rx\fR or \fBbfd:min_rx\fR
changes\fR.
.IP "\fBbfd : forwarding_if_rx\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When \fBtrue\fR, traffic received on the
\fBInterface\fR is used to indicate the capability of packet
I/O\fR.  BFD control packets are still transmitted and received\fR.  At
least one BFD control packet must be received every 100 * \fBbfd:min_rx\fR amount of time\fR.  Otherwise, even if
traffic are received, the \fBbfd:forwarding\fR
will be \fBfalse\fR\fR.
.IP "\fBbfd : cpath_down\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Set to true to notify the remote endpoint that traffic should not be
forwarded to this system for some reason other than a connectivty
failure on the interface being monitored\fR.  The typical underlying
reason is ``concatenated path down,\(cq\(cq that is, that connectivity
beyond the local system is down\fR.  Defaults to false\fR.
.IP "\fBbfd : check_tnl_key\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Set to true to make BFD accept only control messages with a tunnel
key of zero\fR.  By default, BFD accepts control messages with any
tunnel key\fR.
.IP "\fBbfd : bfd_local_src_mac\fR: optional string"
Set to an Ethernet address in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR
to set the MAC used as source for transmitted BFD packets\fR.  The
default is the mac address of the BFD enabled interface\fR.
.IP "\fBbfd : bfd_local_dst_mac\fR: optional string"
Set to an Ethernet address in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR
to set the MAC used as destination for transmitted BFD packets\fR.  The
default is \fB00:23:20:00:00:01\fR\fR.
.IP "\fBbfd : bfd_remote_dst_mac\fR: optional string"
Set to an Ethernet address in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR
to set the MAC used for checking the destination of received BFD packets\fR.
Packets with different destination MAC will not be considered as BFD packets\fR.
If not specified the destination MAC address of received BFD packets
are not checked\fR.
.IP "\fBbfd : bfd_src_ip\fR: optional string"
Set to an IPv4 address to set the IP address used as source for
transmitted BFD packets\fR.  The default is \fB169\fB.254\fB.1\fB.1\fR\fR.
.IP "\fBbfd : bfd_dst_ip\fR: optional string"
Set to an IPv4 address to set the IP address used as destination
for transmitted BFD packets\fR.  The default is \fB169\fB.254\fB.1\fB.0\fR\fR.
.ST "BFD Status:"
The switch sets key-value pairs in the \fBbfd_status\fR
column to report the status of BFD on this interface\fR.  When BFD is
not enabled, with \fBbfd:enable\fR, the switch clears
all key-value pairs from \fBbfd_status\fR\fR.
.IP "\fBbfd_status : state\fR: optional string, one of \fBdown\fR, \fBinit\fR, \fBup\fR, or \fBadmin_down\fR"
Reports the state of the BFD session\fR.  The BFD session is fully
healthy and negotiated if \fBUP\fR\fR.
.IP "\fBbfd_status : forwarding\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Reports whether the BFD session believes this \fBInterface\fR may be used to forward traffic\fR.  Typically this
means the local session is signaling \fBUP\fR, and the remote
system isn\(cqt signaling a problem such as concatenated path down\fR.
.IP "\fBbfd_status : diagnostic\fR: optional string"
In case of a problem, set to an error message that reports what the
local BFD session thinks is wrong\fR.  The error messages are defined
in section 4\fR.1 of [RFC 5880]\fR.
.IP "\fBbfd_status : remote_state\fR: optional string, one of \fBdown\fR, \fBinit\fR, \fBup\fR, or \fBadmin_down\fR"
Reports the state of the remote endpoint\(cqs BFD session\fR.
.IP "\fBbfd_status : remote_diagnostic\fR: optional string"
In case of a problem, set to an error message that reports what the
remote endpoint\(cqs BFD session thinks is wrong\fR.  The error messages
are defined in section 4\fR.1 of [RFC 5880]\fR.
.IP "\fBbfd_status : flap_count\fR: optional string, containing an integer, at least 0"
Counts the number of \fBbfd_status:forwarding\fR
flaps since start\fR.  A flap is considered as a change of the
\fBbfd_status:forwarding\fR value\fR.
.ST "Connectivity Fault Management:"
802\fR.1ag Connectivity Fault Management (CFM) allows a group of
Maintenance Points (MPs) called a Maintenance Association (MA) to
detect connectivity problems with each other\fR.  MPs within a MA should
have complete and exclusive interconnectivity\fR.  This is verified by
occasionally broadcasting Continuity Check Messages (CCMs) at a
configurable transmission interval\fR.
.PP
According to the 802\fR.1ag specification, each Maintenance Point should
be configured out-of-band with a list of Remote Maintenance Points it
should have connectivity to\fR.  Open vSwitch differs from the
specification in this area\fR.  It simply assumes the link is faulted if
no Remote Maintenance Points are reachable, and considers it not
faulted otherwise\fR.
.PP
When operating over tunnels which have no \fBin_key\fR, or an
\fBin_key\fR of \fBflow\fR\fR.  CFM will only accept CCMs
with a tunnel key of zero\fR.
.IP "\fBcfm_mpid\fR: optional integer"
A Maintenance Point ID (MPID) uniquely identifies each endpoint
within a Maintenance Association\fR.  The MPID is used to identify this
endpoint to other Maintenance Points in the MA\fR.  Each end of a link
being monitored should have a different MPID\fR.  Must be configured to
enable CFM on this \fBInterface\fR\fR.
.IP
According to the 802\fR.1ag specification, MPIDs can only range between
[1, 8191]\fR.  However, extended mode (see \fBother_config:cfm_extended\fR) supports eight byte MPIDs\fR.
.IP "\fBcfm_flap_count\fR: optional integer"
Counts the number of cfm fault flapps since boot\fR.  A flap is
considered to be a change of the \fBcfm_fault\fR value\fR.
.IP "\fBcfm_fault\fR: optional boolean"
Indicates a connectivity fault triggered by an inability to receive
heartbeats from any remote endpoint\fR.  When a fault is triggered on
\fBInterface\fRs participating in bonds, they will be
disabled\fR.
.IP
Faults can be triggered for several reasons\fR.  Most importantly they
are triggered when no CCMs are received for a period of 3\fR.5 times the
transmission interval\fR. Faults are also triggered when any CCMs
indicate that a Remote Maintenance Point is not receiving CCMs but
able to send them\fR.  Finally, a fault is triggered if a CCM is
received which indicates unexpected configuration\fR.  Notably, this
case arises when a CCM is received which advertises the local MPID\fR.
.IP "\fBcfm_fault_status : recv\fR: none"
Indicates a CFM fault was triggered due to a lack of CCMs received on
the \fBInterface\fR\fR.
.IP "\fBcfm_fault_status : rdi\fR: none"
Indicates a CFM fault was triggered due to the reception of a CCM with
the RDI bit flagged\fR.  Endpoints set the RDI bit in their CCMs when they
are not receiving CCMs themselves\fR.  This typically indicates a
unidirectional connectivity failure\fR.
.IP "\fBcfm_fault_status : maid\fR: none"
Indicates a CFM fault was triggered due to the reception of a CCM with
a MAID other than the one Open vSwitch uses\fR.  CFM broadcasts are tagged
with an identification number in addition to the MPID called the MAID\fR.
Open vSwitch only supports receiving CCM broadcasts tagged with the
MAID it uses internally\fR.
.IP "\fBcfm_fault_status : loopback\fR: none"
Indicates a CFM fault was triggered due to the reception of a CCM
advertising the same MPID configured in the \fBcfm_mpid\fR
column of this \fBInterface\fR\fR.  This may indicate a loop in
the network\fR.
.IP "\fBcfm_fault_status : overflow\fR: none"
Indicates a CFM fault was triggered because the CFM module received
CCMs from more remote endpoints than it can keep track of\fR.
.IP "\fBcfm_fault_status : override\fR: none"
Indicates a CFM fault was manually triggered by an administrator using
an \fBovs\-appctl\fR command\fR.
.IP "\fBcfm_fault_status : interval\fR: none"
Indicates a CFM fault was triggered due to the reception of a CCM
frame having an invalid interval\fR.
.IP "\fBcfm_remote_opstate\fR: optional string, either \fBdown\fR or \fBup\fR"
When in extended mode, indicates the operational state of the
remote endpoint as either \fBup\fR or \fBdown\fR\fR.  See
\fBother_config:cfm_opstate\fR\fR.
.IP "\fBcfm_health\fR: optional integer, in range 0 to 100"
Indicates the health of the interface as a percentage of CCM frames
received over 21 \fBother_config:cfm_interval\fRs\fR.
The health of an interface is undefined if it is communicating with
more than one \fBcfm_remote_mpids\fR\fR.  It reduces if
healthy heartbeats are not received at the expected rate, and
gradually improves as healthy heartbeats are received at the desired
rate\fR. Every 21 \fBother_config:cfm_interval\fRs, the
health of the interface is refreshed\fR.
.IP
As mentioned above, the faults can be triggered for several reasons\fR.
The link health will deteriorate even if heartbeats are received but
they are reported to be unhealthy\fR.  An unhealthy heartbeat in this
context is a heartbeat for which either some fault is set or is out
of sequence\fR.  The interface health can be 100 only on receiving
healthy heartbeats at the desired rate\fR.
.IP "\fBcfm_remote_mpids\fR: set of integers"
When CFM is properly configured, Open vSwitch will occasionally
receive CCM broadcasts\fR.  These broadcasts contain the MPID of the
sending Maintenance Point\fR.  The list of MPIDs from which this
\fBInterface\fR is receiving broadcasts from is regularly
collected and written to this column\fR.
.IP "\fBother_config : cfm_interval\fR: optional string, containing an integer"
The interval, in milliseconds, between transmissions of CFM
heartbeats\fR.  Three missed heartbeat receptions indicate a
connectivity fault\fR.
.IP
In standard operation only intervals of 3, 10, 100, 1,000, 10,000,
60,000, or 600,000 ms are supported\fR.  Other values will be rounded
down to the nearest value on the list\fR.  Extended mode (see \fBother_config:cfm_extended\fR) supports any interval up
to 65,535 ms\fR.  In either mode, the default is 1000 ms\fR.
.IP
We do not recommend using intervals less than 100 ms\fR.
.IP "\fBother_config : cfm_extended\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When \fBtrue\fR, the CFM module operates in extended mode\fR. This
causes it to use a nonstandard destination address to avoid conflicting
with compliant implementations which may be running concurrently on the
network\fR. Furthermore, extended mode increases the accuracy of the
\fBcfm_interval\fR configuration parameter by breaking wire
compatibility with 802\fR.1ag compliant implementations\fR.  And extended
mode allows eight byte MPIDs\fR.  Defaults to \fBfalse\fR\fR.
.IP "\fBother_config : cfm_demand\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
When \fBtrue\fR, and
\fBother_config:cfm_extended\fR is true, the CFM
module operates in demand mode\fR.  When in demand mode, traffic
received on the \fBInterface\fR is used to indicate
liveness\fR.  CCMs are still transmitted and received\fR.  At least one
CCM must be received every 100 * \fBother_config:cfm_interval\fR amount of time\fR.  Otherwise, even if traffic
are received, the CFM module will raise the connectivity fault\fR.
.IP
Demand mode has a couple of caveats:
.RS
.IP \(bu
To ensure that ovs-vswitchd has enough time to pull statistics
from the datapath, the fault detection interval is set to
3\fR.5 * MAX(\fBother_config:cfm_interval\fR, 500)
ms\fR.
.IP \(bu
To avoid ambiguity, demand mode disables itself when there are
multiple remote maintenance points\fR.
.IP \(bu
If the \fBInterface\fR is heavily congested, CCMs
containing the \fBother_config:cfm_opstate\fR
status may be dropped causing changes in the operational state to
be delayed\fR.  Similarly, if CCMs containing the RDI bit are not
received, unidirectional link failures may not be detected\fR.
.RE
.IP "\fBother_config : cfm_opstate\fR: optional string, either \fBdown\fR or \fBup\fR"
When \fBdown\fR, the CFM module marks all CCMs it generates as
operationally down without triggering a fault\fR.  This allows remote
maintenance points to choose not to forward traffic to the
\fBInterface\fR on which this CFM module is running\fR.
Currently, in Open vSwitch, the opdown bit of CCMs affects
\fBInterface\fRs participating in bonds, and the bundle
OpenFlow action\fR. This setting is ignored when CFM is not in extended
mode\fR.  Defaults to \fBup\fR\fR.
.IP "\fBother_config : cfm_ccm_vlan\fR: optional string, containing an integer, in range 1 to 4,095"
When set, the CFM module will apply a VLAN tag to all CCMs it generates
with the given value\fR.  May be the string \fBrandom\fR in which
case each CCM will be tagged with a different randomly generated VLAN\fR.
.IP "\fBother_config : cfm_ccm_pcp\fR: optional string, containing an integer, in range 1 to 7"
When set, the CFM module will apply a VLAN tag to all CCMs it generates
with the given PCP value, the VLAN ID of the tag is governed by the
value of \fBother_config:cfm_ccm_vlan\fR\fR. If
\fBother_config:cfm_ccm_vlan\fR is unset, a VLAN ID of
zero is used\fR.
.ST "Bonding Configuration:"
.IP "\fBother_config : lacp-port-id\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP port ID of this \fBInterface\fR\fR.  Port IDs are
used in LACP negotiations to identify individual ports
participating in a bond\fR.
.IP "\fBother_config : lacp-port-priority\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP port priority of this \fBInterface\fR\fR.  In LACP
negotiations \fBInterface\fRs with numerically lower
priorities are preferred for aggregation\fR.
.IP "\fBother_config : lacp-aggregation-key\fR: optional string, containing an integer, in range 1 to 65,535"
The LACP aggregation key of this \fBInterface\fR\fR.  \fBInterface\fRs with different aggregation keys may not be active
within a given \fBPort\fR at the same time\fR.
.ST "Virtual Machine Identifiers:"
These key-value pairs specifically apply to an interface that
represents a virtual Ethernet interface connected to a virtual
machine\fR.  These key-value pairs should not be present for other types
of interfaces\fR.  Keys whose names end in \fB\-uuid\fR have
values that uniquely identify the entity in question\fR.  For a Citrix
XenServer hypervisor, these values are UUIDs in RFC 4122 format\fR.
Other hypervisors may use other formats\fR.
.IP "\fBexternal_ids : attached-mac\fR: optional string"
The MAC address programmed into the ``virtual hardware\(cq\(cq for this
interface, in the form
\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR:\fIxx\fR\fR.
For Citrix XenServer, this is the value of the \fBMAC\fR field
in the VIF record for this interface\fR.
.IP "\fBexternal_ids : iface-id\fR: optional string"
A system-unique identifier for the interface\fR.  On XenServer, this will
commonly be the same as \fBexternal_ids:xs-vif-uuid\fR\fR.
.IP "\fBexternal_ids : iface-status\fR: optional string, either \fBactive\fR or \fBinactive\fR"
Hypervisors may sometimes have more than one interface associated
with a given \fBexternal_ids:iface-id\fR, only one of
which is actually in use at a given time\fR.  For example, in some
circumstances XenServer has both a ``tap\(cq\(cq and a ``vif\(cq\(cq interface
for a single \fBexternal_ids:iface-id\fR, but only
uses one of them at a time\fR.  A hypervisor that behaves this way must
mark the currently in use interface \fBactive\fR and the
others \fBinactive\fR\fR.  A hypervisor that never has more than
one interface for a given \fBexternal_ids:iface-id\fR
may mark that interface \fBactive\fR or omit \fBexternal_ids:iface-status\fR entirely\fR.
.IP
During VM migration, a given \fBexternal_ids:iface-id\fR might transiently be marked \fBactive\fR on
two different hypervisors\fR.  That is, \fBactive\fR means that
this \fBexternal_ids:iface-id\fR is the active
instance within a single hypervisor, not in a broader scope\fR.
There is one exception: some hypervisors support ``migration\(cq\(cq from a
given hypervisor to itself (most often for test purposes)\fR.  During
such a ``migration,\(cq\(cq two instances of a single \fBexternal_ids:iface-id\fR might both be briefly marked
\fBactive\fR on a single hypervisor\fR.
.IP "\fBexternal_ids : xs-vif-uuid\fR: optional string"
The virtual interface associated with this interface\fR.
.IP "\fBexternal_ids : xs-network-uuid\fR: optional string"
The virtual network to which this interface is attached\fR.
.IP "\fBexternal_ids : vm-id\fR: optional string"
The VM to which this interface belongs\fR. On XenServer, this will be the
same as \fBexternal_ids:xs-vm-uuid\fR\fR.
.IP "\fBexternal_ids : xs-vm-uuid\fR: optional string"
The VM to which this interface belongs\fR.
.ST "VLAN Splinters:"
The ``VLAN splinters\(cq\(cq feature increases Open vSwitch compatibility
with buggy network drivers in old versions of Linux that do not
properly support VLANs when VLAN devices are not used, at some cost
in memory and performance\fR.
.PP
When VLAN splinters are enabled on a particular interface, Open vSwitch
creates a VLAN device for each in-use VLAN\fR.  For sending traffic tagged
with a VLAN on the interface, it substitutes the VLAN device\fR.  Traffic
received on the VLAN device is treated as if it had been received on
the interface on the particular VLAN\fR.
.PP
VLAN splinters consider a VLAN to be in use if:
.RS
.IP \(bu
The VLAN is the \fBtag\fR value in any \fBPort\fR record\fR.
.IP \(bu
The VLAN is listed within the \fBtrunks\fR
column of the \fBPort\fR record of an interface on which
VLAN splinters are enabled\fR.
An empty \fBtrunks\fR does not influence the
in-use VLANs: creating 4,096 VLAN devices is impractical because it
will exceed the current 1,024 port per datapath limit\fR.
.IP \(bu
An OpenFlow flow within any bridge matches the VLAN\fR.
.RE
.PP
The same set of in-use VLANs applies to every interface on which VLAN
splinters are enabled\fR.  That is, the set is not chosen separately for
each interface but selected once as the union of all in-use VLANs based
on the rules above\fR.
.PP
It does not make sense to enable VLAN splinters on an interface for an
access port, or on an interface that is not a physical port\fR.
.PP
VLAN splinters are deprecated\fR.  When broken device drivers are no
longer in widespread use, we will delete this feature\fR.
.IP "\fBother_config : enable-vlan-splinters\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Set to \fBtrue\fR to enable VLAN splinters on this interface\fR.
Defaults to \fBfalse\fR\fR.
.IP
VLAN splinters increase kernel and userspace memory overhead, so do
not use them unless they are needed\fR.
.IP
VLAN splinters do not support 802\fR.1p priority tags\fR.  Received
priorities will appear to be 0, regardless of their actual values,
and priorities on transmitted packets will also be cleared to 0\fR.
.ST "Auto Attach Configuration:"
Auto Attach configuration for a particular interface\fR.
.IP "\fBlldp : enable\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
True to enable LLDP on this \fBInterface\fR\fR.  If not
specified, LLDP will be disabled by default\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Flow_Table TABLE"
Configuration for a particular OpenFlow table\fR.
.SS "Summary:
.TQ 3.00in
\fBname\fR
optional string
.TQ 3.00in
\fBflow_limit\fR
optional integer, at least 0
.TQ 3.00in
\fBoverflow_policy\fR
optional string, either \fBrefuse\fR or \fBevict\fR
.TQ 3.00in
\fBgroups\fR
set of strings
.TQ 3.00in
\fBprefixes\fR
set of up to 3 strings
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBname\fR: optional string"
The table\(cqs name\fR.  Set this column to change the name that controllers
will receive when they request table statistics, e\fR.g\fR. \fBovs\-ofctl
dump\-tables\fR\fR.  The name does not affect switch behavior\fR.
.IP "\fBflow_limit\fR: optional integer, at least 0"
If set, limits the number of flows that may be added to the table\fR.  Open
vSwitch may limit the number of flows in a table for other reasons,
e\fR.g\fR. due to hardware limitations or for resource availability or
performance reasons\fR.
.IP "\fBoverflow_policy\fR: optional string, either \fBrefuse\fR or \fBevict\fR"
Controls the switch\(cqs behavior when an OpenFlow flow table modification
request would add flows in excess of \fBflow_limit\fR\fR.  The
supported values are:
.RS
.TP
\fBrefuse\fR
Refuse to add the flow or flows\fR.  This is also the default policy
when \fBoverflow_policy\fR is unset\fR.
.TP
\fBevict\fR
Delete the flow that will expire soonest\fR.  See \fBgroups\fR
for details\fR.
.RE
.IP "\fBgroups\fR: set of strings"
When \fBoverflow_policy\fR is \fBevict\fR, this
controls how flows are chosen for eviction when the flow table would
otherwise exceed \fBflow_limit\fR flows\fR.  Its value is a set
of NXM fields or sub-fields, each of which takes one of the forms
\fB\fIfield\fB[]\fR or
\fB\fIfield\fB[\fIstart\fB\fB.\fB.\fIend\fB]\fR,
e\fR.g\fR. \fBNXM_OF_IN_PORT[]\fR\fR.  Please see
\fBnicira\-ext\fB.h\fR for a complete list of NXM field names\fR.
.IP
When a flow must be evicted due to overflow, the flow to evict is
chosen through an approximation of the following algorithm:
.RS
.IP 1. .25in
Divide the flows in the table into groups based on the values of the
specified fields or subfields, so that all of the flows in a given
group have the same values for those fields\fR.  If a flow does not
specify a given field, that field\(cqs value is treated as 0\fR.
.IP 2. .25in
Consider the flows in the largest group, that is, the group that
contains the greatest number of flows\fR.  If two or more groups all
have the same largest number of flows, consider the flows in all of
those groups\fR.
.IP 3. .25in
Among the flows under consideration, choose the flow that expires
soonest for eviction\fR.
.RE
.IP
The eviction process only considers flows that have an idle timeout or
a hard timeout\fR.  That is, eviction never deletes permanent flows\fR.
(Permanent flows do count against \fBflow_limit\fR\fR.)
.IP
Open vSwitch ignores any invalid or unknown field specifications\fR.
.IP
When \fBoverflow_policy\fR is not \fBevict\fR, this
column has no effect\fR.
.IP "\fBprefixes\fR: set of up to 3 strings"
This string set specifies which fields should be used for
address prefix tracking\fR.  Prefix tracking allows the
classifier to skip rules with longer than necessary prefixes,
resulting in better wildcarding for datapath flows\fR.
.IP
Prefix tracking may be beneficial when a flow table contains
matches on IP address fields with different prefix lengths\fR.
For example, when a flow table contains IP address matches on
both full addresses and proper prefixes, the full address
matches will typically cause the datapath flow to un-wildcard
the whole address field (depending on flow entry priorities)\fR.
In this case each packet with a different address gets handed
to the userspace for flow processing and generates its own
datapath flow\fR.  With prefix tracking enabled for the address
field in question packets with addresses matching shorter
prefixes would generate datapath flows where the irrelevant
address bits are wildcarded, allowing the same datapath flow
to handle all the packets within the prefix in question\fR.  In
this case many userspace upcalls can be avoided and the
overall performance can be better\fR.
.IP
This is a performance optimization only, so packets will
receive the same treatment with or without prefix tracking\fR.
.IP
The supported fields are: \fBtun_id\fR,
\fBtun_src\fR, \fBtun_dst\fR,
\fBnw_src\fR, \fBnw_dst\fR (or aliases
\fBip_src\fR and \fBip_dst\fR),
\fBipv6_src\fR, and \fBipv6_dst\fR\fR.  (Using this
feature for \fBtun_id\fR would only make sense if the
tunnel IDs have prefix structure similar to IP addresses\fR.)
.IP
By default, the \fBprefixes=ip_dst,ip_src\fR are used
on each flow table\fR.  This instructs the flow classifier to
track the IP destination and source addresses used by the
rules in this specific flow table\fR.
.IP
The keyword \fBnone\fR is recognized as an explicit
override of the default values, causing no prefix fields to be
tracked\fR.
.IP
To set the prefix fields, the flow table record needs to
exist:
.RS
.TP
\fBovs\-vsctl set Bridge br0 flow_tables:0=@N1 \-\- \-\-id=@N1 create Flow_Table name=table0\fR
Creates a flow table record for the OpenFlow table number 0\fR.
.TP
\fBovs\-vsctl set Flow_Table table0 prefixes=ip_dst,ip_src\fR
Enables prefix tracking for IP source and destination
address fields\fR.
.RE
.IP
There is a maximum number of fields that can be enabled for any
one flow table\fR.  Currently this limit is 3\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "QoS TABLE"
Quality of Service (QoS) configuration for each Port that
references it\fR.
.SS "Summary:
.TQ 3.00in
\fBtype\fR
string
.TQ 3.00in
\fBqueues\fR
map of integer-\fBQueue\fR pairs, key in range 0 to 4,294,967,295
.TQ .25in
\fIConfiguration for linux-htb and linux-hfsc:\fR
.RS .25in
.TQ 2.75in
\fBother_config : max-rate\fR
optional string, containing an integer
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBtype\fR: string"
The type of QoS to implement\fR. The currently defined types are
listed below:
.RS
.TP
\fBlinux\-htb\fR
Linux ``hierarchy token bucket\(cq\(cq classifier\fR.  See tc-htb(8) (also at
\fBhttp://linux\fB.die\fB.net/man/8/tc\-htb\fR) and the HTB manual
(\fBhttp://luxik\fB.cdi\fB.cz/~devik/qos/htb/manual/userg\fB.htm\fR)
for information on how this classifier works and how to configure it\fR.
.RE
.RS
.TP
\fBlinux\-hfsc\fR
Linux \(dqHierarchical Fair Service Curve\(dq classifier\fR.
See \fBhttp://linux\-ip\fB.net/articles/hfsc\fB.en/\fR for
information on how this classifier works\fR.
.RE
.RS
.TP
\fBlinux\-sfq\fR
Linux ``Stochastic Fairness Queueing\(cq\(cq classifier\fR. See
\fBtc\-sfq\fR(8) (also at
\fBhttp://linux\fB.die\fB.net/man/8/tc\-sfq\fR) for information on
how this classifier works\fR.
.RE
.RS
.TP
\fBlinux\-codel\fR
Linux ``Controlled Delay\(cq\(cq classifier\fR. See \fBtc\-codel\fR(8)
(also at
\fBhttp://man7\fB.org/linux/man\-pages/man8/tc\-codel\fB.8\fB.html\fR)
for information on how this classifier works\fR.
.RE
.RS
.TP
\fBlinux\-fq_codel\fR
Linux ``Fair Queuing with Controlled Delay\(cq\(cq classifier\fR. See
\fBtc\-fq_codel\fR(8) (also at
\fBhttp://man7\fB.org/linux/man\-pages/man8/tc\-fq_codel\fB.8\fB.html\fR)
for information on how this classifier works\fR.
.RE
.IP "\fBqueues\fR: map of integer-\fBQueue\fR pairs, key in range 0 to 4,294,967,295"
A map from queue numbers to \fBQueue\fR records\fR.  The
supported range of queue numbers depend on \fBtype\fR\fR.  The
queue numbers are the same as the \fBqueue_id\fR used in
OpenFlow in \fBstruct ofp_action_enqueue\fR and other
structures\fR.
.IP
Queue 0 is the ``default queue\fR.\(cq\(cq  It is used by OpenFlow output
actions when no specific queue has been set\fR.  When no configuration for
queue 0 is present, it is automatically configured as if a \fBQueue\fR record with empty \fBdscp\fR
and \fBother_config\fR columns had been
specified\fR.
(Before version 1\fR.6, Open vSwitch would leave queue 0 unconfigured in
this case\fR.  With some queuing disciplines, this dropped all packets
destined for the default queue\fR.)
.ST "Configuration for linux-htb and linux-hfsc:"
The \fBlinux\-htb\fR and \fBlinux\-hfsc\fR classes support
the following key-value pair:
.IP "\fBother_config : max-rate\fR: optional string, containing an integer"
Maximum rate shared by all queued traffic, in bit/s\fR.  Optional\fR.  If not
specified, for physical interfaces, the default is the link rate\fR.  For
other interfaces or if the link rate cannot be determined, the default
is currently 100 Mbps\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Queue TABLE"
A configuration for a port output queue, used in configuring Quality of
Service (QoS) features\fR.  May be referenced by \fBqueues\fR column in \fBQoS\fR table\fR.
.SS "Summary:
.TQ 3.00in
\fBdscp\fR
optional integer, in range 0 to 63
.TQ .25in
\fIConfiguration for linux-htb QoS:\fR
.RS .25in
.TQ 2.75in
\fBother_config : min-rate\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : max-rate\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : burst\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : priority\fR
optional string, containing an integer, in range 0 to 4,294,967,295
.RE
.TQ .25in
\fIConfiguration for linux-hfsc QoS:\fR
.RS .25in
.TQ 2.75in
\fBother_config : min-rate\fR
optional string, containing an integer, at least 1
.TQ 2.75in
\fBother_config : max-rate\fR
optional string, containing an integer, at least 1
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBdscp\fR: optional integer, in range 0 to 63"
If set, Open vSwitch will mark all traffic egressing this
\fBQueue\fR with the given DSCP bits\fR.  Traffic egressing the
default \fBQueue\fR is only marked if it was explicitly selected
as the \fBQueue\fR at the time the packet was output\fR.  If unset,
the DSCP bits of traffic egressing this \fBQueue\fR will remain
unchanged\fR.
.ST "Configuration for linux-htb QoS:"
\fBQoS\fR \fBtype\fR
\fBlinux\-htb\fR may use \fBqueue_id\fRs less than 61440\fR.
It has the following key-value pairs defined\fR.
.IP "\fBother_config : min-rate\fR: optional string, containing an integer, at least 1"
Minimum guaranteed bandwidth, in bit/s\fR.
.IP "\fBother_config : max-rate\fR: optional string, containing an integer, at least 1"
Maximum allowed bandwidth, in bit/s\fR.  Optional\fR.  If specified, the
queue\(cqs rate will not be allowed to exceed the specified value, even
if excess bandwidth is available\fR.  If unspecified, defaults to no
limit\fR.
.IP "\fBother_config : burst\fR: optional string, containing an integer, at least 1"
Burst size, in bits\fR.  This is the maximum amount of ``credits\(cq\(cq that a
queue can accumulate while it is idle\fR.  Optional\fR.  Details of the
\fBlinux\-htb\fR implementation require a minimum burst size, so
a too-small \fBburst\fR will be silently ignored\fR.
.IP "\fBother_config : priority\fR: optional string, containing an integer, in range 0 to 4,294,967,295"
A queue with a smaller \fBpriority\fR will receive all the
excess bandwidth that it can use before a queue with a larger value
receives any\fR.  Specific priority values are unimportant; only relative
ordering matters\fR.  Defaults to 0 if unspecified\fR.
.ST "Configuration for linux-hfsc QoS:"
\fBQoS\fR \fBtype\fR
\fBlinux\-hfsc\fR may use \fBqueue_id\fRs less than 61440\fR.
It has the following key-value pairs defined\fR.
.IP "\fBother_config : min-rate\fR: optional string, containing an integer, at least 1"
Minimum guaranteed bandwidth, in bit/s\fR.
.IP "\fBother_config : max-rate\fR: optional string, containing an integer, at least 1"
Maximum allowed bandwidth, in bit/s\fR.  Optional\fR.  If specified, the
queue\(cqs rate will not be allowed to exceed the specified value, even if
excess bandwidth is available\fR.  If unspecified, defaults to no
limit\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBother_config\fR: map of string-string pairs"
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Mirror TABLE"
A port mirror within a \fBBridge\fR\fR.
.PP
A port mirror configures a bridge to send selected frames to special
``mirrored\(cq\(cq ports, in addition to their normal destinations\fR.  Mirroring
traffic may also be referred to as SPAN or RSPAN, depending on how
the mirrored traffic is sent\fR.
.SS "Summary:
.TQ 3.00in
\fBname\fR
string
.TQ .25in
\fISelecting Packets for Mirroring:\fR
.RS .25in
.TQ 2.75in
\fBselect_all\fR
boolean
.TQ 2.75in
\fBselect_dst_port\fR
set of weak reference to \fBPort\fRs
.TQ 2.75in
\fBselect_src_port\fR
set of weak reference to \fBPort\fRs
.TQ 2.75in
\fBselect_vlan\fR
set of up to 4,096 integers, in range 0 to 4,095
.RE
.TQ .25in
\fIMirroring Destination Configuration:\fR
.RS .25in
.TQ 2.75in
\fBoutput_port\fR
optional weak reference to \fBPort\fR
.TQ 2.75in
\fBoutput_vlan\fR
optional integer, in range 1 to 4,095
.RE
.TQ .25in
\fIStatistics: Mirror counters:\fR
.RS .25in
.TQ 2.75in
\fBstatistics : tx_packets\fR
optional integer
.TQ 2.75in
\fBstatistics : tx_bytes\fR
optional integer
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBname\fR: string"
Arbitrary identifier for the \fBMirror\fR\fR.
.ST "Selecting Packets for Mirroring:"
To be selected for mirroring, a given packet must enter or leave the
bridge through a selected port and it must also be in one of the
selected VLANs\fR.
.IP "\fBselect_all\fR: boolean"
If true, every packet arriving or departing on any port is
selected for mirroring\fR.
.IP "\fBselect_dst_port\fR: set of weak reference to \fBPort\fRs"
Ports on which departing packets are selected for mirroring\fR.
.IP "\fBselect_src_port\fR: set of weak reference to \fBPort\fRs"
Ports on which arriving packets are selected for mirroring\fR.
.IP "\fBselect_vlan\fR: set of up to 4,096 integers, in range 0 to 4,095"
VLANs on which packets are selected for mirroring\fR.  An empty set
selects packets on all VLANs\fR.
.ST "Mirroring Destination Configuration:"
These columns are mutually exclusive\fR.  Exactly one of them must be
nonempty\fR.
.IP "\fBoutput_port\fR: optional weak reference to \fBPort\fR"
Output port for selected packets, if nonempty\fR.
.IP
Specifying a port for mirror output reserves that port exclusively
for mirroring\fR.  No frames other than those selected for mirroring
via this column
will be forwarded to the port, and any frames received on the port
will be discarded\fR.
.IP
The output port may be any kind of port supported by Open vSwitch\fR.
It may be, for example, a physical port (sometimes called SPAN) or a
GRE tunnel\fR.
.IP "\fBoutput_vlan\fR: optional integer, in range 1 to 4,095"
Output VLAN for selected packets, if nonempty\fR.
.IP
The frames will be sent out all ports that trunk
\fBoutput_vlan\fR, as well as any ports with implicit VLAN
\fBoutput_vlan\fR\fR.  When a mirrored frame is sent out a
trunk port, the frame\(cqs VLAN tag will be set to
\fBoutput_vlan\fR, replacing any existing tag; when it is
sent out an implicit VLAN port, the frame will not be tagged\fR.  This
type of mirroring is sometimes called RSPAN\fR.
.IP
See the documentation for
\fBother_config:forward-bpdu\fR in the
\fBInterface\fR table for a list of destination MAC
addresses which will not be mirrored to a VLAN to avoid confusing
switches that interpret the protocols that they represent\fR.
.IP
\fBPlease note:\fR Mirroring to a VLAN can disrupt a network that
contains unmanaged switches\fR.  Consider an unmanaged physical switch
with two ports: port 1, connected to an end host, and port 2,
connected to an Open vSwitch configured to mirror received packets
into VLAN 123 on port 2\fR.  Suppose that the end host sends a packet on
port 1 that the physical switch forwards to port 2\fR.  The Open vSwitch
forwards this packet to its destination and then reflects it back on
port 2 in VLAN 123\fR.  This reflected packet causes the unmanaged
physical switch to replace the MAC learning table entry, which
correctly pointed to port 1, with one that incorrectly points to port
2\fR.  Afterward, the physical switch will direct packets destined for
the end host to the Open vSwitch on port 2, instead of to the end
host on port 1, disrupting connectivity\fR.  If mirroring to a VLAN is
desired in this scenario, then the physical switch must be replaced
by one that learns Ethernet addresses on a per-VLAN basis\fR.  In
addition, learning should be disabled on the VLAN containing mirrored
traffic\fR. If this is not done then intermediate switches will learn
the MAC address of each end host from the mirrored traffic\fR.  If
packets being sent to that end host are also mirrored, then they will
be dropped since the switch will attempt to send them out the input
port\fR. Disabling learning for the VLAN will cause the switch to
correctly send the packet out all ports configured for that VLAN\fR.  If
Open vSwitch is being used as an intermediate switch, learning can be
disabled by adding the mirrored VLAN to \fBflood_vlans\fR
in the appropriate \fBBridge\fR table or tables\fR.
.IP
Mirroring to a GRE tunnel has fewer caveats than mirroring to a
VLAN and should generally be preferred\fR.
.ST "Statistics: Mirror counters:"
Key-value pairs that report mirror statistics\fR.  The update period
is controlled by \fBother_config:stats-update-interval\fR in the \fBOpen_vSwitch\fR table\fR.
.IP "\fBstatistics : tx_packets\fR: optional integer"
Number of packets transmitted through this mirror\fR.
.IP "\fBstatistics : tx_bytes\fR: optional integer"
Number of bytes transmitted through this mirror\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Controller TABLE"
An OpenFlow controller\fR.
.PP
Open vSwitch supports two kinds of OpenFlow controllers:
.RS
.TP
Primary controllers
This is the kind of controller envisioned by the OpenFlow 1\fR.0
specification\fR.  Usually, a primary controller implements a network
policy by taking charge of the switch\(cqs flow table\fR.
.IP
Open vSwitch initiates and maintains persistent connections to
primary controllers, retrying the connection each time it fails or
drops\fR.  The \fBfail_mode\fR column in the
\fBBridge\fR table applies to primary controllers\fR.
.IP
Open vSwitch permits a bridge to have any number of primary
controllers\fR.  When multiple controllers are configured, Open
vSwitch connects to all of them simultaneously\fR.  Because
OpenFlow 1\fR.0 does not specify how multiple controllers
coordinate in interacting with a single switch, more than
one primary controller should be specified only if the
controllers are themselves designed to coordinate with each
other\fR.  (The Nicira-defined \fBNXT_ROLE\fR OpenFlow
vendor extension may be useful for this\fR.)
.TP
Service controllers
These kinds of OpenFlow controller connections are intended for
occasional support and maintenance use, e\fR.g\fR. with
\fBovs\-ofctl\fR\fR.  Usually a service controller connects only
briefly to inspect or modify some of a switch\(cqs state\fR.
.IP
Open vSwitch listens for incoming connections from service
controllers\fR.  The service controllers initiate and, if necessary,
maintain the connections from their end\fR.  The \fBfail_mode\fR column in the \fBBridge\fR table does
not apply to service controllers\fR.
.IP
Open vSwitch supports configuring any number of service controllers\fR.
.RE
.PP
The \fBtarget\fR determines the type of controller\fR.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBtarget\fR
string
.TQ 2.75in
\fBconnection_mode\fR
optional string, either \fBin\-band\fR or \fBout\-of\-band\fR
.RE
.TQ .25in
\fIController Failure Detection and Handling:\fR
.RS .25in
.TQ 2.75in
\fBmax_backoff\fR
optional integer, at least 1,000
.TQ 2.75in
\fBinactivity_probe\fR
optional integer
.RE
.TQ .25in
\fIAsynchronous Messages:\fR
.RS .25in
.TQ 2.75in
\fBenable_async_messages\fR
optional boolean
.TQ .25in
\fIController Rate Limiting:\fR
.RS .25in
.TQ 2.50in
\fBcontroller_rate_limit\fR
optional integer, at least 100
.TQ 2.50in
\fBcontroller_burst_limit\fR
optional integer, at least 25
.TQ .25in
\fIController Rate Limiting Statistics:\fR
.RS .25in
.TQ 2.25in
\fBstatus : packet-in-TYPE-bypassed\fR
optional string, containing an integer, at least 0
.TQ 2.25in
\fBstatus : packet-in-TYPE-queued\fR
optional string, containing an integer, at least 0
.TQ 2.25in
\fBstatus : packet-in-TYPE-dropped\fR
optional string, containing an integer, at least 0
.TQ 2.25in
\fBstatus : packet-in-TYPE-backlog\fR
optional string, containing an integer, at least 0
.RE
.RE
.RE
.TQ .25in
\fIAdditional In-Band Configuration:\fR
.RS .25in
.TQ 2.75in
\fBlocal_ip\fR
optional string
.TQ 2.75in
\fBlocal_netmask\fR
optional string
.TQ 2.75in
\fBlocal_gateway\fR
optional string
.RE
.TQ .25in
\fIController Status:\fR
.RS .25in
.TQ 2.75in
\fBis_connected\fR
boolean
.TQ 2.75in
\fBrole\fR
optional string, one of \fBslave\fR, \fBother\fR, or \fBmaster\fR
.TQ 2.75in
\fBstatus : last_error\fR
optional string
.TQ 2.75in
\fBstatus : state\fR
optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR
.TQ 2.75in
\fBstatus : sec_since_connect\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : sec_since_disconnect\fR
optional string, containing an integer, at least 1
.RE
.TQ .25in
\fIConnection Parameters:\fR
.RS .25in
.TQ 2.75in
\fBother_config : dscp\fR
optional string, containing an integer
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBtarget\fR: string"
Connection method for controller\fR.
.IP
The following connection methods are currently supported for primary
controllers:
.RS
.TP
\fBssl:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified SSL \fIport\fR on the host at the
given \fIip\fR, which must be expressed as an IP
address (not a DNS name)\fR.  The \fBssl\fR column in the \fBOpen_vSwitch\fR
table must point to a valid SSL configuration when this form
is used\fR.
.IP
If \fIport\fR is not specified, it defaults to 6653\fR.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch\fR.
.TP
\fBtcp:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified TCP \fIport\fR on the host at the given
\fIip\fR, which must be expressed as an IP address (not a
DNS name), where \fIip\fR can be IPv4 or IPv6 address\fR.  If
\fIip\fR is an IPv6 address, wrap it in square brackets,
e\fR.g\fR. \fBtcp:[::1]:6653\fR\fR.
.IP
If \fIport\fR is not specified, it defaults to 6653\fR.
.RE
.IP
The following connection methods are currently supported for service
controllers:
.RS
.TP
\fBpssl:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for SSL connections on the specified TCP \fIport\fR\fR.
If \fIip\fR, which must be expressed as an IP address (not a
DNS name), is specified, then connections are restricted to the
specified local IP address (either IPv4 or IPv6)\fR.  If
\fIip\fR is an IPv6 address, wrap it in square brackets,
e\fR.g\fR. \fBpssl:6653:[::1]\fR\fR.
.IP
If \fIport\fR is not specified, it defaults to
6653\fR.  If \fIip\fR is not specified then it listens only on
IPv4 (but not IPv6) addresses\fR.  The
\fBssl\fR
column in the \fBOpen_vSwitch\fR table must point to a
valid SSL configuration when this form is used\fR.
.IP
If \fIport\fR is not specified, it currently to 6653\fR.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch\fR.
.TP
\fBptcp:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for connections on the specified TCP \fIport\fR\fR.  If
\fIip\fR, which must be expressed as an IP address (not a
DNS name), is specified, then connections are restricted to the
specified local IP address (either IPv4 or IPv6)\fR.  If
\fIip\fR is an IPv6 address, wrap it in square brackets,
e\fR.g\fR. \fBptcp:6653:[::1]\fR\fR. If \fIip\fR is not
specified then it listens only on IPv4 addresses\fR.
.IP
If \fIport\fR is not specified, it defaults to 6653\fR.
.RE
.IP
When multiple controllers are configured for a single bridge, the
\fBtarget\fR values must be unique\fR.  Duplicate
\fBtarget\fR values yield unspecified results\fR.
.IP "\fBconnection_mode\fR: optional string, either \fBin\-band\fR or \fBout\-of\-band\fR"
If it is specified, this setting must be one of the following
strings that describes how Open vSwitch contacts this OpenFlow
controller over the network:
.RS
.TP
\fBin\-band\fR
In this mode, this controller\(cqs OpenFlow traffic travels over the
bridge associated with the controller\fR.  With this setting, Open
vSwitch allows traffic to and from the controller regardless of the
contents of the OpenFlow flow table\fR.  (Otherwise, Open vSwitch
would never be able to connect to the controller, because it did
not have a flow to enable it\fR.)  This is the most common connection
mode because it is not necessary to maintain two independent
networks\fR.
.TP
\fBout\-of\-band\fR
In this mode, OpenFlow traffic uses a control network separate
from the bridge associated with this controller, that is, the
bridge does not use any of its own network devices to communicate
with the controller\fR.  The control network must be configured
separately, before or after \fBovs\-vswitchd\fR is started\fR.
.RE
.IP
If not specified, the default is implementation-specific\fR.
.ST "Controller Failure Detection and Handling:"
.IP "\fBmax_backoff\fR: optional integer, at least 1,000"
Maximum number of milliseconds to wait between connection attempts\fR.
Default is implementation-specific\fR.
.IP "\fBinactivity_probe\fR: optional integer"
Maximum number of milliseconds of idle time on connection to
controller before sending an inactivity probe message\fR.  If Open
vSwitch does not communicate with the controller for the specified
number of seconds, it will send a probe\fR.  If a response is not
received for the same additional amount of time, Open vSwitch
assumes the connection has been broken and attempts to reconnect\fR.
Default is implementation-specific\fR.  A value of 0 disables
inactivity probes\fR.
.ST "Asynchronous Messages:"
OpenFlow switches send certain messages to controllers spontanenously,
that is, not in response to any request from the controller\fR.  These
messages are called ``asynchronous messages\fR.\(cq\(cq  These columns allow
asynchronous messages to be limited or disabled to ensure the best use
of network resources\fR.
.IP "\fBenable_async_messages\fR: optional boolean"
The OpenFlow protocol enables asynchronous messages at time of
connection establishment, which means that a controller can receive
asynchronous messages, potentially many of them, even if it turns them
off immediately after connecting\fR.  Set this column to
\fBfalse\fR to change Open vSwitch behavior to disable, by
default, all asynchronous messages\fR.  The controller can use the
\fBNXT_SET_ASYNC_CONFIG\fR Nicira extension to OpenFlow to turn
on any messages that it does want to receive, if any\fR.
.ST "Controller Rate Limiting:"
A switch can forward packets to a controller over the OpenFlow
protocol\fR.  Forwarding packets this way at too high a rate can
overwhelm a controller, frustrate use of the OpenFlow connection for
other purposes, increase the latency of flow setup, and use an
unreasonable amount of bandwidth\fR.  Therefore, Open vSwitch supports
limiting the rate of packet forwarding to a controller\fR.
.PP
There are two main reasons in OpenFlow for a packet to be sent to a
controller: either the packet ``misses\(cq\(cq in the flow table, that is,
there is no matching flow, or a flow table action says to send the
packet to the controller\fR.  Open vSwitch limits the rate of each kind
of packet separately at the configured rate\fR.  Therefore, the actual
rate that packets are sent to the controller can be up to twice the
configured rate, when packets are sent for both reasons\fR.
.PP
This feature is specific to forwarding packets over an OpenFlow
connection\fR.  It is not general-purpose QoS\fR.  See the \fBQoS\fR table for quality of service configuration, and \fBingress_policing_rate\fR in the \fBInterface\fR table for ingress policing configuration\fR.
.IP "\fBcontroller_rate_limit\fR: optional integer, at least 100"
The maximum rate at which the switch will forward packets to the
OpenFlow controller, in packets per second\fR.  If no value is
specified, rate limiting is disabled\fR.
.IP "\fBcontroller_burst_limit\fR: optional integer, at least 25"
When a high rate triggers rate-limiting, Open vSwitch queues
packets to the controller for each port and transmits them to the
controller at the configured rate\fR.  This value limits the number of
queued packets\fR.  Ports on a bridge share the packet queue fairly\fR.
.IP
This value has no effect unless \fBcontroller_rate_limit\fR is configured\fR.  The current
default when this value is not specified is one-quarter of \fBcontroller_rate_limit\fR, meaning that queuing can delay
forwarding a packet to the controller by up to 250 ms\fR.
.ST "Controller Rate Limiting Statistics:"
These values report the effects of rate limiting\fR.  Their values are
relative to establishment of the most recent OpenFlow connection,
or since rate limiting was enabled, whichever happened more
recently\fR.  Each consists of two values, one with \fBTYPE\fR
replaced by \fBmiss\fR for rate limiting flow table misses,
and the other with \fBTYPE\fR replaced by
\fBaction\fR for rate limiting packets sent by OpenFlow
actions\fR.
.PP
These statistics are reported only when controller rate limiting is
enabled\fR.
.IP "\fBstatus : packet-in-TYPE-bypassed\fR: optional string, containing an integer, at least 0"
Number of packets sent directly to the controller, without queuing,
because the rate did not exceed the configured maximum\fR.
.IP "\fBstatus : packet-in-TYPE-queued\fR: optional string, containing an integer, at least 0"
Number of packets added to the queue to send later\fR.
.IP "\fBstatus : packet-in-TYPE-dropped\fR: optional string, containing an integer, at least 0"
Number of packets added to the queue that were later dropped due to
overflow\fR.  This value is less than or equal to \fBstatus:packet-in-TYPE-queued\fR\fR.
.IP "\fBstatus : packet-in-TYPE-backlog\fR: optional string, containing an integer, at least 0"
Number of packets currently queued\fR.  The other statistics increase
monotonically, but this one fluctuates between 0 and the \fBcontroller_burst_limit\fR as conditions change\fR.
.ST "Additional In-Band Configuration:"
These values are considered only in in-band control mode (see
\fBconnection_mode\fR)\fR.
.PP
When multiple controllers are configured on a single bridge, there
should be only one set of unique values in these columns\fR.  If different
values are set for these columns in different controllers, the effect
is unspecified\fR.
.IP "\fBlocal_ip\fR: optional string"
The IP address to configure on the local port,
e\fR.g\fR. \fB192\fB.168\fB.0\fB.123\fR\fR.  If this value is unset, then
\fBlocal_netmask\fR and \fBlocal_gateway\fR are
ignored\fR.
.IP "\fBlocal_netmask\fR: optional string"
The IP netmask to configure on the local port,
e\fR.g\fR. \fB255\fB.255\fB.255\fB.0\fR\fR.  If \fBlocal_ip\fR is set
but this value is unset, then the default is chosen based on whether
the IP address is class A, B, or C\fR.
.IP "\fBlocal_gateway\fR: optional string"
The IP address of the gateway to configure on the local port, as a
string, e\fR.g\fR. \fB192\fB.168\fB.0\fB.1\fR\fR.  Leave this column unset if
this network has no gateway\fR.
.ST "Controller Status:"
.IP "\fBis_connected\fR: boolean"
\fBtrue\fR if currently connected to this controller,
\fBfalse\fR otherwise\fR.
.IP "\fBrole\fR: optional string, one of \fBslave\fR, \fBother\fR, or \fBmaster\fR"
The level of authority this controller has on the associated
bridge\fR. Possible values are:
.RS
.TP
\fBother\fR
Allows the controller access to all OpenFlow features\fR.
.TP
\fBmaster\fR
Equivalent to \fBother\fR, except that there may be at
most one master controller at a time\fR.  When a controller configures
itself as \fBmaster\fR, any existing master is demoted to
the \fBslave\fR role\fR.
.TP
\fBslave\fR
Allows the controller read-only access to OpenFlow features\fR.
Attempts to modify the flow table will be rejected with an
error\fR.  Slave controllers do not receive OFPT_PACKET_IN or
OFPT_FLOW_REMOVED messages, but they do receive OFPT_PORT_STATUS
messages\fR.
.RE
.IP "\fBstatus : last_error\fR: optional string"
A human-readable description of the last error on the connection
to the controller; i\fR.e\fR. \fBstrerror(errno)\fR\fR.  This key
will exist only if an error has occurred\fR.
.IP "\fBstatus : state\fR: optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR"
The state of the connection to the controller:
.RS
.TP
\fBVOID\fR
Connection is disabled\fR.
.TP
\fBBACKOFF\fR
Attempting to reconnect at an increasing period\fR.
.TP
\fBCONNECTING\fR
Attempting to connect\fR.
.TP
\fBACTIVE\fR
Connected, remote host responsive\fR.
.TP
\fBIDLE\fR
Connection is idle\fR.  Waiting for response to keep-alive\fR.
.RE
.IP
These values may change in the future\fR.  They are provided only for
human consumption\fR.
.IP "\fBstatus : sec_since_connect\fR: optional string, containing an integer, at least 0"
The amount of time since this controller last successfully connected to
the switch (in seconds)\fR.  Value is empty if controller has never
successfully connected\fR.
.IP "\fBstatus : sec_since_disconnect\fR: optional string, containing an integer, at least 1"
The amount of time since this controller last disconnected from
the switch (in seconds)\fR. Value is empty if controller has never
disconnected\fR.
.ST "Connection Parameters:"
Additional configuration for a connection between the controller
and the Open vSwitch\fR.
.IP "\fBother_config : dscp\fR: optional string, containing an integer"
The Differentiated Service Code Point (DSCP) is specified using 6 bits
in the Type of Service (TOS) field in the IP header\fR. DSCP provides a
mechanism to classify the network traffic and provide Quality of
Service (QoS) on IP networks\fR.
The DSCP value specified here is used when establishing the connection
between the controller and the Open vSwitch\fR.  If no value is specified,
a default value of 48 is chosen\fR.  Valid DSCP values must be in the
range 0 to 63\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.IP "\fBother_config\fR: map of string-string pairs"
.bp
.SH "Manager TABLE"
Configuration for a database connection to an Open vSwitch database
(OVSDB) client\fR.
.PP
This table primarily configures the Open vSwitch database
(\fBovsdb\-server\fR), not the Open vSwitch switch
(\fBovs\-vswitchd\fR)\fR.  The switch does read the table to determine
what connections should be treated as in-band\fR.
.PP
The Open vSwitch database server can initiate and maintain active
connections to remote clients\fR.  It can also listen for database
connections\fR.
.SS "Summary:
.TQ .25in
\fICore Features:\fR
.RS .25in
.TQ 2.75in
\fBtarget\fR
string (must be unique within table)
.TQ 2.75in
\fBconnection_mode\fR
optional string, either \fBin\-band\fR or \fBout\-of\-band\fR
.RE
.TQ .25in
\fIClient Failure Detection and Handling:\fR
.RS .25in
.TQ 2.75in
\fBmax_backoff\fR
optional integer, at least 1,000
.TQ 2.75in
\fBinactivity_probe\fR
optional integer
.RE
.TQ .25in
\fIStatus:\fR
.RS .25in
.TQ 2.75in
\fBis_connected\fR
boolean
.TQ 2.75in
\fBstatus : last_error\fR
optional string
.TQ 2.75in
\fBstatus : state\fR
optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR
.TQ 2.75in
\fBstatus : sec_since_connect\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : sec_since_disconnect\fR
optional string, containing an integer, at least 0
.TQ 2.75in
\fBstatus : locks_held\fR
optional string
.TQ 2.75in
\fBstatus : locks_waiting\fR
optional string
.TQ 2.75in
\fBstatus : locks_lost\fR
optional string
.TQ 2.75in
\fBstatus : n_connections\fR
optional string, containing an integer, at least 2
.TQ 2.75in
\fBstatus : bound_port\fR
optional string, containing an integer
.RE
.TQ .25in
\fIConnection Parameters:\fR
.RS .25in
.TQ 2.75in
\fBother_config : dscp\fR
optional string, containing an integer
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.TQ 2.75in
\fBother_config\fR
map of string-string pairs
.RE
.SS "Details:
.ST "Core Features:"
.IP "\fBtarget\fR: string (must be unique within table)"
Connection method for managers\fR.
.IP
The following connection methods are currently supported:
.RS
.TP
\fBssl:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified SSL \fIport\fR on the host at the given
\fIip\fR, which must be expressed as an IP address
(not a DNS name)\fR.  The \fBssl\fR column in the \fBOpen_vSwitch\fR
table must point to a valid SSL configuration when this
form is used\fR.
.IP
If \fIport\fR is not specified, it defaults to 6640\fR.
.IP
SSL support is an optional feature that is not always
built as part of Open vSwitch\fR.
.TP
\fBtcp:\fIip\fB\fR[\fB:\fIport\fB\fR]
The specified TCP \fIport\fR on the host at the given
\fIip\fR, which must be expressed as an IP address (not a
DNS name), where \fIip\fR can be IPv4 or IPv6 address\fR.  If
\fIip\fR is an IPv6 address, wrap it in square brackets,
e\fR.g\fR. \fBtcp:[::1]:6640\fR\fR.
.IP
If \fIport\fR is not specified, it defaults to 6640\fR.
.TP
\fBpssl:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for SSL connections on the specified TCP \fIport\fR\fR.
Specify 0 for \fIport\fR to have the kernel automatically
choose an available port\fR.  If \fIip\fR, which must be
expressed as an IP address (not a DNS name), is specified, then
connections are restricted to the specified local IP address
(either IPv4 or IPv6 address)\fR.  If \fIip\fR is an IPv6
address, wrap in square brackets,
e\fR.g\fR. \fBpssl:6640:[::1]\fR\fR.  If \fIip\fR is not
specified then it listens only on IPv4 (but not IPv6) addresses\fR.
The \fBssl\fR column in the \fBOpen_vSwitch\fR table must point to a valid SSL
configuration when this form is used\fR.
.IP
If \fIport\fR is not specified, it defaults to 6640\fR.
.IP
SSL support is an optional feature that is not always built as
part of Open vSwitch\fR.
.TP
\fBptcp:\fR[\fIport\fR][\fB:\fIip\fB\fR]
Listens for connections on the specified TCP \fIport\fR\fR.
Specify 0 for \fIport\fR to have the kernel automatically
choose an available port\fR.  If \fIip\fR, which must be
expressed as an IP address (not a DNS name), is specified, then
connections are restricted to the specified local IP address
(either IPv4 or IPv6 address)\fR.  If \fIip\fR is an IPv6
address, wrap it in square brackets,
e\fR.g\fR. \fBptcp:6640:[::1]\fR\fR.  If \fIip\fR is not
specified then it listens only on IPv4 addresses\fR.
.IP
If \fIport\fR is not specified, it defaults to 6640\fR.
.RE
.IP
When multiple managers are configured, the \fBtarget\fR
values must be unique\fR.  Duplicate \fBtarget\fR values yield
unspecified results\fR.
.IP "\fBconnection_mode\fR: optional string, either \fBin\-band\fR or \fBout\-of\-band\fR"
If it is specified, this setting must be one of the following strings
that describes how Open vSwitch contacts this OVSDB client over the
network:
.RS
.TP
\fBin\-band\fR
In this mode, this connection\(cqs traffic travels over a bridge
managed by Open vSwitch\fR.  With this setting, Open vSwitch allows
traffic to and from the client regardless of the contents of the
OpenFlow flow table\fR.  (Otherwise, Open vSwitch would never be able
to connect to the client, because it did not have a flow to enable
it\fR.)  This is the most common connection mode because it is not
necessary to maintain two independent networks\fR.
.TP
\fBout\-of\-band\fR
In this mode, the client\(cqs traffic uses a control network separate
from that managed by Open vSwitch, that is, Open vSwitch does not
use any of its own network devices to communicate with the client\fR.
The control network must be configured separately, before or after
\fBovs\-vswitchd\fR is started\fR.
.RE
.IP
If not specified, the default is implementation-specific\fR.
.ST "Client Failure Detection and Handling:"
.IP "\fBmax_backoff\fR: optional integer, at least 1,000"
Maximum number of milliseconds to wait between connection attempts\fR.
Default is implementation-specific\fR.
.IP "\fBinactivity_probe\fR: optional integer"
Maximum number of milliseconds of idle time on connection to the client
before sending an inactivity probe message\fR.  If Open vSwitch does not
communicate with the client for the specified number of seconds, it
will send a probe\fR.  If a response is not received for the same
additional amount of time, Open vSwitch assumes the connection has been
broken and attempts to reconnect\fR.  Default is implementation-specific\fR.
A value of 0 disables inactivity probes\fR.
.ST "Status:"
.IP "\fBis_connected\fR: boolean"
\fBtrue\fR if currently connected to this manager,
\fBfalse\fR otherwise\fR.
.IP "\fBstatus : last_error\fR: optional string"
A human-readable description of the last error on the connection
to the manager; i\fR.e\fR. \fBstrerror(errno)\fR\fR.  This key
will exist only if an error has occurred\fR.
.IP "\fBstatus : state\fR: optional string, one of \fBACTIVE\fR, \fBVOID\fR, \fBCONNECTING\fR, \fBIDLE\fR, or \fBBACKOFF\fR"
The state of the connection to the manager:
.RS
.TP
\fBVOID\fR
Connection is disabled\fR.
.TP
\fBBACKOFF\fR
Attempting to reconnect at an increasing period\fR.
.TP
\fBCONNECTING\fR
Attempting to connect\fR.
.TP
\fBACTIVE\fR
Connected, remote host responsive\fR.
.TP
\fBIDLE\fR
Connection is idle\fR.  Waiting for response to keep-alive\fR.
.RE
.IP
These values may change in the future\fR.  They are provided only for
human consumption\fR.
.IP "\fBstatus : sec_since_connect\fR: optional string, containing an integer, at least 0"
The amount of time since this manager last successfully connected
to the database (in seconds)\fR. Value is empty if manager has never
successfully connected\fR.
.IP "\fBstatus : sec_since_disconnect\fR: optional string, containing an integer, at least 0"
The amount of time since this manager last disconnected from the
database (in seconds)\fR. Value is empty if manager has never
disconnected\fR.
.IP "\fBstatus : locks_held\fR: optional string"
Space-separated list of the names of OVSDB locks that the connection
holds\fR.  Omitted if the connection does not hold any locks\fR.
.IP "\fBstatus : locks_waiting\fR: optional string"
Space-separated list of the names of OVSDB locks that the connection is
currently waiting to acquire\fR.  Omitted if the connection is not waiting
for any locks\fR.
.IP "\fBstatus : locks_lost\fR: optional string"
Space-separated list of the names of OVSDB locks that the connection
has had stolen by another OVSDB client\fR.  Omitted if no locks have been
stolen from this connection\fR.
.IP "\fBstatus : n_connections\fR: optional string, containing an integer, at least 2"
When \fBtarget\fR specifies a connection method that
listens for inbound connections (e\fR.g\fR. \fBptcp:\fR or
\fBpssl:\fR) and more than one connection is actually active,
the value is the number of active connections\fR.  Otherwise, this
key-value pair is omitted\fR.
.IP
When multiple connections are active, status columns and key-value
pairs (other than this one) report the status of one arbitrarily
chosen connection\fR.
.IP "\fBstatus : bound_port\fR: optional string, containing an integer"
When \fBtarget\fR is \fBptcp:\fR or
\fBpssl:\fR, this is the TCP port on which the OVSDB server is
listening\fR.  (This is is particularly useful when \fBtarget\fR specifies a port of 0, allowing the kernel to
choose any available port\fR.)
.ST "Connection Parameters:"
Additional configuration for a connection between the manager
and the Open vSwitch Database\fR.
.IP "\fBother_config : dscp\fR: optional string, containing an integer"
The Differentiated Service Code Point (DSCP) is specified using 6 bits
in the Type of Service (TOS) field in the IP header\fR. DSCP provides a
mechanism to classify the network traffic and provide Quality of
Service (QoS) on IP networks\fR.
The DSCP value specified here is used when establishing the connection
between the manager and the Open vSwitch\fR.  If no value is specified, a
default value of 48 is chosen\fR.  Valid DSCP values must be in the range
0 to 63\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.IP "\fBother_config\fR: map of string-string pairs"
.bp
.SH "NetFlow TABLE"
A NetFlow target\fR.  NetFlow is a protocol that exports a number of
details about terminating IP flows, such as the principals involved
and duration\fR.
.SS "Summary:
.TQ 3.00in
\fBtargets\fR
set of 1 or more strings
.TQ 3.00in
\fBengine_id\fR
optional integer, in range 0 to 255
.TQ 3.00in
\fBengine_type\fR
optional integer, in range 0 to 255
.TQ 3.00in
\fBactive_timeout\fR
integer, at least \-1
.TQ 3.00in
\fBadd_id_to_interface\fR
boolean
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBtargets\fR: set of 1 or more strings"
NetFlow targets in the form
\fB\fIip\fB:\fIport\fB\fR\fR.  The \fIip\fR
must be specified numerically, not as a DNS name\fR.
.IP "\fBengine_id\fR: optional integer, in range 0 to 255"
Engine ID to use in NetFlow messages\fR.  Defaults to datapath index
if not specified\fR.
.IP "\fBengine_type\fR: optional integer, in range 0 to 255"
Engine type to use in NetFlow messages\fR.  Defaults to datapath
index if not specified\fR.
.IP "\fBactive_timeout\fR: integer, at least \-1"
The interval at which NetFlow records are sent for flows that
are still active, in seconds\fR.  A value of \fB0\fR
requests the default timeout (currently 600 seconds); a value
of \fB\-1\fR disables active timeouts\fR.
.IP
The NetFlow passive timeout, for flows that become inactive,
is not configurable\fR.  It will vary depending on the Open
vSwitch version, the forms and contents of the OpenFlow flow
tables, CPU and memory usage, and network activity\fR.  A typical
passive timeout is about a second\fR.
.IP "\fBadd_id_to_interface\fR: boolean"
If this column\(cqs value is \fBfalse\fR, the ingress and egress
interface fields of NetFlow flow records are derived from OpenFlow port
numbers\fR.  When it is \fBtrue\fR, the 7 most significant bits of
these fields will be replaced by the least significant 7 bits of the
engine id\fR.  This is useful because many NetFlow collectors do not
expect multiple switches to be sending messages from the same host, so
they do not store the engine information which could be used to
disambiguate the traffic\fR.
.IP
When this option is enabled, a maximum of 508 ports are supported\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "SSL TABLE"
SSL configuration for an Open_vSwitch\fR.
.SS "Summary:
.TQ 3.00in
\fBprivate_key\fR
string
.TQ 3.00in
\fBcertificate\fR
string
.TQ 3.00in
\fBca_cert\fR
string
.TQ 3.00in
\fBbootstrap_ca_cert\fR
boolean
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBprivate_key\fR: string"
Name of a PEM file containing the private key used as the switch\(cqs
identity for SSL connections to the controller\fR.
.IP "\fBcertificate\fR: string"
Name of a PEM file containing a certificate, signed by the
certificate authority (CA) used by the controller and manager,
that certifies the switch\(cqs private key, identifying a trustworthy
switch\fR.
.IP "\fBca_cert\fR: string"
Name of a PEM file containing the CA certificate used to verify
that the switch is connected to a trustworthy controller\fR.
.IP "\fBbootstrap_ca_cert\fR: boolean"
If set to \fBtrue\fR, then Open vSwitch will attempt to
obtain the CA certificate from the controller on its first SSL
connection and save it to the named PEM file\fR. If it is successful,
it will immediately drop the connection and reconnect, and from then
on all SSL connections must be authenticated by a certificate signed
by the CA certificate thus obtained\fR.  \fBThis option exposes the
SSL connection to a man\-in\-the\-middle attack obtaining the initial
CA certificate\fB.\fR  It may still be useful for bootstrapping\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "sFlow TABLE"
A set of sFlow(R) targets\fR.  sFlow is a protocol for remote
monitoring of switches\fR.
.SS "Summary:
.TQ 3.00in
\fBagent\fR
optional string
.TQ 3.00in
\fBheader\fR
optional integer
.TQ 3.00in
\fBpolling\fR
optional integer
.TQ 3.00in
\fBsampling\fR
optional integer
.TQ 3.00in
\fBtargets\fR
set of 1 or more strings
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBagent\fR: optional string"
Name of the network device whose IP address should be reported as the
``agent address\(cq\(cq to collectors\fR.  If not specified, the agent device is
figured from the first target address and the routing table\fR.  If the
routing table does not contain a route to the target, the IP address
defaults to the \fBlocal_ip\fR in the
collector\(cqs \fBController\fR\fR.  If an agent IP address cannot be
determined any of these ways, sFlow is disabled\fR.
.IP "\fBheader\fR: optional integer"
Number of bytes of a sampled packet to send to the collector\fR.
If not specified, the default is 128 bytes\fR.
.IP "\fBpolling\fR: optional integer"
Polling rate in seconds to send port statistics to the collector\fR.
If not specified, defaults to 30 seconds\fR.
.IP "\fBsampling\fR: optional integer"
Rate at which packets should be sampled and sent to the collector\fR.
If not specified, defaults to 400, which means one out of 400
packets, on average, will be sent to the collector\fR.
.IP "\fBtargets\fR: set of 1 or more strings"
sFlow targets in the form
\fB\fIip\fB:\fIport\fB\fR\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "IPFIX TABLE"
Configuration for sending packets to IPFIX collectors\fR.
.PP
IPFIX is a protocol that exports a number of details about flows\fR.  The
IPFIX implementation in Open vSwitch samples packets at a configurable
rate, extracts flow information from those packets, optionally caches and
aggregates the flow information, and sends the result to one or more
collectors\fR.
.PP
IPFIX in Open vSwitch can be configured two different ways:
.RS
.IP \(bu
With \fBper\-bridge sampling\fR, Open vSwitch performs IPFIX sampling
automatically on all packets that pass through a bridge\fR.  To configure
per-bridge sampling, create an \fBIPFIX\fR record and point a
\fBBridge\fR table\(cqs \fBipfix\fR
column to it\fR.  The \fBFlow_Sample_Collector_Set\fR table is
not used for per-bridge sampling\fR.
.IP \(bu
With \fBflow\-based sampling\fR, \fBsample\fR actions in the
OpenFlow flow table drive IPFIX sampling\fR.  See
\fBovs\-ofctl\fR(8) for a description of the
\fBsample\fR action\fR.
.IP
Flow-based sampling also requires database configuration: create a
\fBIPFIX\fR record that describes the IPFIX configuration
and a \fBFlow_Sample_Collector_Set\fR record that points to
the \fBBridge\fR whose flow table holds the
\fBsample\fR actions and to \fBIPFIX\fR record\fR.  The
\fBipfix\fR in the \fBBridge\fR
table is not used for flow-based sampling\fR.
.RE
.SS "Summary:
.TQ 3.00in
\fBtargets\fR
set of strings
.TQ 3.00in
\fBcache_active_timeout\fR
optional integer, in range 0 to 4,200
.TQ 3.00in
\fBcache_max_flows\fR
optional integer, in range 0 to 4,294,967,295
.TQ .25in
\fIPer-Bridge Sampling:\fR
.RS .25in
.TQ 2.75in
\fBsampling\fR
optional integer, in range 1 to 4,294,967,295
.TQ 2.75in
\fBobs_domain_id\fR
optional integer, in range 0 to 4,294,967,295
.TQ 2.75in
\fBobs_point_id\fR
optional integer, in range 0 to 4,294,967,295
.TQ 2.75in
\fBother_config : enable-tunnel-sampling\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : enable-input-sampling\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.TQ 2.75in
\fBother_config : enable-output-sampling\fR
optional string, either \fBtrue\fR or \fBfalse\fR
.RE
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBtargets\fR: set of strings"
IPFIX target collectors in the form
\fB\fIip\fB:\fIport\fB\fR\fR.
.IP "\fBcache_active_timeout\fR: optional integer, in range 0 to 4,200"
The maximum period in seconds for which an IPFIX flow record is
cached and aggregated before being sent\fR.  If not specified,
defaults to 0\fR.  If 0, caching is disabled\fR.
.IP "\fBcache_max_flows\fR: optional integer, in range 0 to 4,294,967,295"
The maximum number of IPFIX flow records that can be cached at a
time\fR.  If not specified, defaults to 0\fR.  If 0, caching is
disabled\fR.
.ST "Per-Bridge Sampling:"
These values affect only per-bridge sampling\fR.  See above for a
description of the differences between per-bridge and flow-based
sampling\fR.
.IP "\fBsampling\fR: optional integer, in range 1 to 4,294,967,295"
The rate at which packets should be sampled and sent to each target
collector\fR.  If not specified, defaults to 400, which means one out of
400 packets, on average, will be sent to each target collector\fR.
.IP "\fBobs_domain_id\fR: optional integer, in range 0 to 4,294,967,295"
The IPFIX Observation Domain ID sent in each IPFIX packet\fR.  If not
specified, defaults to 0\fR.
.IP "\fBobs_point_id\fR: optional integer, in range 0 to 4,294,967,295"
The IPFIX Observation Point ID sent in each IPFIX flow record\fR.  If not
specified, defaults to 0\fR.
.IP "\fBother_config : enable-tunnel-sampling\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
Set to \fBtrue\fR to enable sampling and reporting tunnel
header 7-tuples in IPFIX flow records\fR.  Tunnel sampling is disabled
by default\fR.
.IP
The following enterprise entities report the sampled tunnel info:
.RS
.TP
tunnelType:
ID: 891, and enterprise ID 6876 (VMware)\fR.
.IP
type: unsigned 8-bit integer\fR.
.IP
data type semantics: identifier\fR.
.IP
description: Identifier of the layer 2 network overlay network
encapsulation type: 0x01 VxLAN, 0x02 GRE, 0x03 LISP, 0x05 IPsec+GRE,
0x07 GENEVE\fR.
.TP
tunnelKey:
ID: 892, and enterprise ID 6876 (VMware)\fR.
.IP
type: variable-length octetarray\fR.
.IP
data type semantics: identifier\fR.
.IP
description: Key which is used for identifying an individual
traffic flow within a VxLAN (24-bit VNI), GENEVE (24-bit VNI),
GRE (32- or 64-bit key), or LISP (24-bit instance ID) tunnel\fR. The
key is encoded in this octetarray as a 3-, 4-, or 8-byte integer
ID in network byte order\fR.
.TP
tunnelSourceIPv4Address:
ID: 893, and enterprise ID 6876 (VMware)\fR.
.IP
type: unsigned 32-bit integer\fR.
.IP
data type semantics: identifier\fR.
.IP
description: The IPv4 source address in the tunnel IP packet
header\fR.
.TP
tunnelDestinationIPv4Address:
ID: 894, and enterprise ID 6876 (VMware)\fR.
.IP
type: unsigned 32-bit integer\fR.
.IP
data type semantics: identifier\fR.
.IP
description: The IPv4 destination address in the tunnel IP
packet header\fR.
.TP
tunnelProtocolIdentifier:
ID: 895, and enterprise ID 6876 (VMware)\fR.
.IP
type: unsigned 8-bit integer\fR.
.IP
data type semantics: identifier\fR.
.IP
description: The value of the protocol number in the tunnel
IP packet header\fR. The protocol number identifies the tunnel IP
packet payload type\fR.
.TP
tunnelSourceTransportPort:
ID: 896, and enterprise ID 6876 (VMware)\fR.
.IP
type: unsigned 16-bit integer\fR.
.IP
data type semantics: identifier\fR.
.IP
description: The source port identifier in the tunnel transport
header\fR. For the transport protocols UDP, TCP, and SCTP, this is
the source port number given in the respective header\fR.
.TP
tunnelDestinationTransportPort:
ID: 897, and enterprise ID 6876 (VMware)\fR.
.IP
type: unsigned 16-bit integer\fR.
.IP
data type semantics: identifier\fR.
.IP
description: The destination port identifier in the tunnel
transport header\fR. For the transport protocols UDP, TCP, and SCTP,
this is the destination port number given in the respective header\fR.
.RE
.IP "\fBother_config : enable-input-sampling\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
By default, Open vSwitch samples and reports flows at bridge port input
in IPFIX flow records\fR.  Set this column to \fBfalse\fR to
disable input sampling\fR.
.IP "\fBother_config : enable-output-sampling\fR: optional string, either \fBtrue\fR or \fBfalse\fR"
By default, Open vSwitch samples and reports flows at bridge port
output in IPFIX flow records\fR.  Set this column to \fBfalse\fR to
disable output sampling\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "Flow_Sample_Collector_Set TABLE"
A set of IPFIX collectors of packet samples generated by OpenFlow
\fBsample\fR actions\fR.  This table is used only for IPFIX
flow-based sampling, not for per-bridge sampling (see the \fBIPFIX\fR table for a description of the two forms)\fR.
.SS "Summary:
.TQ 3.00in
\fBid\fR
integer, in range 0 to 4,294,967,295
.TQ 3.00in
\fBbridge\fR
\fBBridge\fR
.TQ 3.00in
\fBipfix\fR
optional \fBIPFIX\fR
.TQ .25in
\fICommon Columns:\fR
.RS .25in
.TQ 2.75in
\fBexternal_ids\fR
map of string-string pairs
.RE
.SS "Details:
.IP "\fBid\fR: integer, in range 0 to 4,294,967,295"
The ID of this collector set, unique among the bridge\(cqs
collector sets, to be used as the \fBcollector_set_id\fR
in OpenFlow \fBsample\fR actions\fR.
.IP "\fBbridge\fR: \fBBridge\fR"
The bridge into which OpenFlow \fBsample\fR actions can
be added to send packet samples to this set of IPFIX collectors\fR.
.IP "\fBipfix\fR: optional \fBIPFIX\fR"
Configuration of the set of IPFIX collectors to send one flow
record per sampled packet to\fR.
.ST "Common Columns:"
The overall purpose of these columns is described under \fBCommon
Columns\fR at the beginning of this document\fR.
.IP "\fBexternal_ids\fR: map of string-string pairs"
.bp
.SH "AutoAttach TABLE"
Auto Attach configuration within a bridge\fR.  The IETF Auto-Attach SPBM
draft standard describes a compact method of using IEEE 802\fR.1AB Link
Layer Discovery Protocol (LLDP) together with a IEEE 802\fR.1aq Shortest
Path Bridging (SPB) network to automatically attach network devices
to individual services in a SPB network\fR.  The intent here is to allow
network applications and devices using OVS to be able to easily take
advantage of features offered by industry standard SPB networks\fR.
.PP
Auto Attach (AA) uses LLDP to communicate between a directly connected
Auto Attach Client (AAC) and Auto Attach Server (AAS)\fR. The LLDP protocol
is extended to add two new Type-Length-Value tuples (TLVs)\fR. The first
new TLV supports the ongoing discovery of directly connected AA
correspondents\fR. Auto Attach operates by regularly transmitting AA
discovery TLVs between the AA client and AA server\fR. By exchanging these
discovery messages, both the AAC and AAS learn the system name and
system description of their peer\fR. In the OVS context, OVS operates as
the AA client and the AA server resides on a switch at the edge of the
SPB network\fR.
.PP
Once AA discovery has been completed the AAC then uses the
second new TLV to deliver identifier mappings from the AAC to the AAS\fR. A primary
feature of Auto Attach is to facilitate the mapping of VLANs defined
outside the SPB network onto service ids (ISIDs) defined within the SPM
network\fR. By doing so individual external VLANs can be mapped onto
specific SPB network services\fR. These VLAN id to ISID mappings can be
configured and managed locally using new options added to the ovs-vsctl
command\fR.
.PP
The Auto Attach OVS feature does not provide a full implementation of
the LLDP protocol\fR. Support for the mandatory TLVs as defined by the LLDP
standard and support for the AA TLV extensions is provided\fR. LLDP
protocol support in OVS can be enabled or disabled on a port by port
basis\fR. LLDP support is disabled by default\fR.
.SS "Summary:
.TQ 3.00in
\fBsystem_name\fR
string
.TQ 3.00in
\fBsystem_description\fR
string
.TQ 3.00in
\fBmappings\fR
map of integer-integer pairs, key in range 0 to 16,777,215, value in range 0 to 4,095
.SS "Details:
.IP "\fBsystem_name\fR: string"
The system_name string is exported in LLDP messages\fR.  It should uniquely
identify the bridge in the network\fR.
.IP "\fBsystem_description\fR: string"
The system_description string is exported in LLDP messages\fR.  It should
describe the type of software and hardware\fR.
.IP "\fBmappings\fR: map of integer-integer pairs, key in range 0 to 16,777,215, value in range 0 to 4,095"
A mapping from SPB network Individual Service Identifier (ISID) to VLAN id\fR.
